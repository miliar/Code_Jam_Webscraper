#include <iostream>
using namespace std;
int ans[25][26]={{0,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,15,31,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,-1,7,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,9,-1,-1,31,63,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,17,-1,51,-1,-1,127,255,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,33,-1,99,-1,231,-1,-1,511,1023,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,3,-1,-1,31,63,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,-1,7,-1,79,-1,-1,255,511,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,273,15,-1,287,-1,831,-1,-1,2047,4095,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,1059,31,3171,1087,-1,3199,-1,7423,-1,-1,16383,32767,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,3,-1,15,-1,-1,127,255,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,9,7,15,-1,63,-1,639,-1,-1,2047,4095,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,19,15,31,63,4383,255,-1,4607,-1,13311,-1,-1,32767,65535,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,39,31,63,127,255,33919,1023,101503,34815,-1,102399,-1,237567,-1,-1,524287,1048575,-1,-1,-1,-1,-1},
{0,1,3,7,15,31,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,3,-1,15,-1,63,-1,-1,511,1023,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,9,7,15,79,63,127,-1,511,-1,5119,-1,-1,16383,32767,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,19,15,31,63,319,255,511,1023,70143,4095,-1,73727,-1,212991,-1,-1,524287,1048575,-1,-1,-1,-1,-1},
{0,1,3,7,39,31,63,127,255,1279,1023,2047,4095,8191,1085439,32767,3248127,1114111,-1,3276799,-1,7602175,-1,-1,16777215,33554431}};
int main(){
	int t,te,r,c,mi,i,j,k,dir[8][2]={{-1,-1},{-1,0},{-1,1},{0,1},{1,1},{1,0},{1,-1},{0,-1}};
	cin>>t;
	for(te=0;te<t;te++){
		cin>>r>>c>>mi;
		cout<<"Case #"<<te+1<<": \n";
		int arr[r][c];
		if(ans[(r-1)*5+c-1][mi]==-1)cout<<"Impossible\n";
		else{
			for(i=0,k=ans[(r-1)*5+c-1][mi];i<r;i++)
				for(j=0;j<c;j++){
					arr[i][j]=k%2;
					k/=2;
				}
			for(i=0;i<r;i++){
				for(j=0;j<c;j++){
					if(arr[i][j]==0){
						for(k=0;k<8;k++)if((i+dir[k][0])>=0&&(i+dir[k][0])<r&&(j+dir[k][1])>=0&&(j+dir[k][1])<c&&arr[i+dir[k][0]][j+dir[k][1]]==1)break;
						if(k==8){
							arr[i][j]=2;break;
						}
					}
				}
				if(j<c)break;
			}
			if(mi==(r*c-1)){
				for(i=0;i<r;i++)
					for(j=0;j<c;j++)if(arr[i][j]==0)arr[i][j]=2;
			}
			for(i=0;i<r;i++){
				for(j=0;j<c;j++){
					if(arr[i][j]==1)cout<<"*";
					else if(arr[i][j]==2)cout<<"c";
					else cout<<".";
				}
				cout<<"\n";
			}
		}
	}
	return 0;
}