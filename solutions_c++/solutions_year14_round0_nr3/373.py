#include <iostream>
#include <cstdio>
using namespace std;
const int M = 5*5*(25+1)+5, N = 5;
string re[ M ] = {"c........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................",".c.......................","*c.......................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","..c......................","*.c......................","**c......................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","...c.....................","*..c.....................","**.c.....................","***c.....................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","....c....................","*...c....................","**..c....................","***.c....................","****c....................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................",".....c...................","*....c...................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","......c..................","I........................","I........................","**...*c..................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................",".......c.................","I........................","*....*.c.................","I........................","I........................","***..**c.................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","........c................","I........................","*....*..c................","I........................","**...**.c................","I........................","I........................","****.***c................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................",".........c...............","I........................","*....*...c...............","I........................","**...**..c...............","I........................","***..***.c...............","I........................","I........................","*********c...............","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","..........c..............","*.........c..............","*....*....c..............","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","...........c.............","I........................","**.........c.............","I........................","I........................","**...**...*c.............","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","............c............","*...........c............","I........................","***.........c............","I........................","***..*....*.c............","I........................","I........................","***..***..**c............","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................",".............c...........","*............c...........","**...........c...........","*....*....*..c...........","****.........c...........","I........................","****.*....*..c...........","I........................","****.**...**.c...........","I........................","I........................","****.****.***c...........","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","..............c..........","*.............c..........","**............c..........","***...........c..........","**...*....*...c..........","*****.........c..........","**...**...**..c..........","******....*...c..........","I........................","*******...**..c..........","I........................","********..***.c..........","I........................","I........................","**************c..........","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","...............c.........","*..............c.........","*....*.........c.........","*....*....*....c.........","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","................c........","I........................","**..............c........","I........................","**...**.........c........","I........................","I........................","**...**...**...*c........","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................",".................c.......","*................c.......","*....*...........c.......","***..............c.......","***..*...........c.......","I........................","***..***.........c.......","I........................","***..***..*....*.c.......","I........................","I........................","***..***..***..**c.......","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","..................c......","*.................c......","**................c......","**...*............c......","****..............c......","****.*............c......","****.**...........c......","****.*....*....*..c......","****.****.........c......","I........................","****.****.*....*..c......","I........................","****.****.**...**.c......","I........................","I........................","****.****.****.***c......","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","...................c.....","*..................c.....","**.................c.....","***................c.....","***..*.............c.....","*****..............c.....","******.............c.....","*******............c.....","********...........c.....","*******...*....*...c.....","**********.........c.....","*******...**...**..c.....","***********....*...c.....","I........................","************...**..c.....","I........................","*************..***.c.....","I........................","I........................","*******************c.....","I........................","I........................","I........................","I........................","I........................","I........................","....................c....","*...................c....","*....*..............c....","*....*....*.........c....","*....*....*....*....c....","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................",".....................c...","I........................","**...................c...","I........................","**...**..............c...","I........................","**...**...**.........c...","I........................","I........................","**...**...**...**...*c...","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","......................c..","*.....................c..","*....*................c..","***...................c..","***..*................c..","***..*....*...........c..","***..***..............c..","***..***..*...........c..","I........................","***..***..***.........c..","I........................","***..***..***..*....*.c..","I........................","I........................","***..***..***..***..**c..","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................","I........................",".......................c.","*......................c.","**.....................c.","**...*.................c.","****...................c.","****.*.................c.","****.**................c.","****.**...*............c.","****.****..............c.","****.****.*............c.","****.****.**...........c.","****.****.*....*....*..c.","****.****.****.........c.","I........................","****.****.****.*....*..c.","I........................","****.****.****.**...**.c.","I........................","I........................","****.****.****.****.***c.","I........................","I........................","I........................","I........................","I........................","I........................","........................c","*.......................c","**......................c","***.....................c","***..*..................c","*****...................c","******..................c","*******.................c","********................c","********..*.............c","**********..............c","***********.............c","************............c","*************...........c","************...*....*...c","***************.........c","************...**...**..c","****************....*...c","I........................","*****************...**..c","I........................","******************..***.c","I........................","I........................","************************c","I........................"};
string r[ M ];
int dx[] = {-1,-1,-1, 0, 0, 1, 1,1};
int dy[] = {-1, 0, 1,-1, 1,-1, 0,1};
int mark[ N+5 ][ N+5 ];
int used[ N+5 ][ N+5 ];
int a[ N+5 ][ N+5 ];

int qu[ N*N+5 ];
int F(int i, int j, int k)
{
   return (i-1)*(N*(N*N+1))+(j-1)*(N*N+1)+k;
}
int A(int u, int v, int i, int j)
{
   int val = 0;
   for(int e = 0; e < 8; ++ e)
   {
      int nx = u+dx[e];
      int ny = v+dy[e];
      if(nx >= 0 && nx < i && ny >= 0 && ny < j && mark[nx][ny])
      {
         ++ val;
      }
   }
   return val;
}
string solve(int i, int j, int k)
{
   string res;
   for(int u = 0; u < N*N; ++ u)
      res+='.';
   res[0] = 'I';

   for(int mask = 0; mask < ( 1<<(i*j) ); ++ mask)
   {
      for(int u = 0; u <= N; ++ u)
         for(int v = 0; v <= N; ++ v)
         {
            mark[u][v] = 0;
            a[u][v] = 0;
            used[ u ][ v ] = 0;
         }
      int qa = 0;
      for(int u = 0; u < i*j; ++ u)
      {
         if((1<<u)&mask)
         {
            mark[ u/j ][ u%j ] = 1;
            ++ qa;
         }
      }
      if(qa!=k)
         continue;


      int qa0 = 0, qa1 = 0, px = 0, py = 0, px2 = 0, py2 = 0;
      for(int u = 0; u < i; ++ u)
      {
         for(int v = 0; v < j; ++ v)
         {
            if(mark[u][v]==1)
            {
               a[u][v] = -1;
            }
            else
            {
               a[u][v] = A(u, v, i, j);
            }

            if(a[u][v]==0)
            {
               ++ qa0;
               px = u;
               py = v;
            }
            else
            if(a[u][v] > 0)
            {
             ++qa1;
             px2 = u;
             py2 = v;
            }
         }
      }
/*      for(int u = 0; u < i; ++ u)
      {
         for(int v = 0; v < j; ++ v)
         {
            cout<<a[u][v]<<" ";
         }
         cout<<endl;
      }*/
      if(qa0)
      {
         int b= 0, e = 0;
         qu[ e++ ] = px*N+py;
         //cout<<px<<" "<<py<<endl;
         used[ px ][ py ] = 1;
         while(b!=e)
         {
            int po = qu[ b++ ];
            int u = po/N;
            int v = po%N;
            //cout<<u<<" "<<v<<endl;
            for(int t = 0; t < 8; ++ t)
            {
               int nx = u+dx[t];
               int ny = v+dy[t];
               if(nx >= 0 && nx < i && ny >= 0 && ny < j && used[ nx ][ ny ]==0 && a[ nx ][ ny ] >= 0)
               {
                  used[ nx ][ ny ] = 1;
                  if(a[ nx ][ ny ]==0)
                  {
                     qu[ e++ ] = nx*N+ny;
                  }
               }
            }
         }
         for(int u = 0; u < i; ++ u)
         {
            for(int v = 0; v < j; ++ v)
            {
               //cout<<used[u][v]<<" ";
               if(used[ u ][ v ]==0 && a[ u ][ v ] >= 0)
               {
                  goto x;
               }
            }
           // cout<<endl;
         }
         for(int u = 0; u < N; ++ u)
         {
            for(int v = 0; v < N; ++ v)
            {
               if(mark[u][v]==1)
                  res[ u*N+v ] = '*';
               else
                  res[ u*N+v ] = '.';
            }
         }
         res[ px*N+py ] = 'c';
         return res;
x:;
      }
      else
         if(qa1==1)
         {
            for(int u = 0; u < N; ++ u)
            {
               for(int v = 0; v < N; ++ v)
               {
                  if(mark[u][v]==1)
                     res[ u*N+v ] = '*';
                  else
                     res[ u*N+v ] = '.';
               }
            }
            res[ px2*N+py2 ] = 'c';
            return res;
         }
   }

   return res;
}
void C(int n, int m, int k)
{
      int in = F(n, m, k);
      if(re[in][0]=='I')
      {
         cout<<"Impossible\n";
      }
      else
      {
         for(int u = 0; u < n; ++ u)
         {
            for(int v = 0; v < m; ++ v)
            {
               cout<<re[in][u*N+v];
            }
            cout<<endl;
         }
      }
}

string y;
int E;
void getans(int sx, int sy, int n, int m, int k)
{
   if(n <= 5 && m <= 5)
   {
      int in = F(n, m, k);
      if(re[in][0]=='I')
      {
         y[0] = 'I';
      }
      for(int u = 0; u < n; ++ u)
      {
         for(int v = 0; v < m; ++ v)
         {
            y[ (sx+u)*E+sy+v ] = re[in][u*N+v];
         }
      }
      return;
   }
   if(n < m)
   {
      if(k >= n)
      {
         for(int u = 0; u < n; ++ u)
            y[ (sx+u)*E+sy ]='*';
         getans(sx, sy+1, n, m-1, k-n);
         return;
      }
      if(k+2 <= n)
      {
         for(int u = 0; u < k; ++ u)
            y[ (sx+u)*E+sy ]='*';

         y[ (sx+n-1)*E+sy+m-1 ] = 'c';
         return;
      }
      for(int u = 0; u < n-2; ++ u)
         y[ (sx+u)*E+sy ]='*';
      y[ sx*E+(sy+1) ] = '*';
      y[ (sx+n-1)*E+sy+m-1 ] = 'c';
   }
   else
   {
      if(k >= m)
      {
         for(int u = 0; u < m; ++ u)
            y[ sx*E+sy+u ]='*';
         getans(sx+1, sy, n-1, m, k-m);
         return;
      }
      if(k+2 <= m)
      {
         for(int u = 0; u < k; ++ u)
            y[ sx*E+sy+u ]='*';

         y[ (sx+n-1)*E+sy+m-1 ] = 'c';
         return;
      }
      for(int u = 0; u < m-2; ++ u)
         y[ sx*E+sy+u ]='*';
      y[ (sx+1)*E+sy ] = '*';
      y[ (sx+n-1)*E+sy+m-1 ] = 'c';
   }
}
int main()
{
  // freopen("C-large.in", "r", stdin);
  // freopen("C-large.out", "w", stdout);
   //freopen("input.txt", "r", stdin);
  // freopen("ouput.txt", "w", stdout);
  /*for(int k = 0; k <= N*N; ++ k)
  {
     C(2, 5, k);
     cout<<endl;
  }*/
   int T = 0, te = 0;
   scanf("%d", &T);
   while(T--)
   {
      ++ te;
      int n, m, k;
      cin>>n>>m>>k;
      printf("Case #%d:\n", te);
      if(n <= 5 && m <= 5)
      {
         C(n, m, k);
         continue;
      }
      string s;
      for(int i = 0; i < n; ++ i)
      {
         for(int j = 0; j < m; ++ j)
         {
            s+='.';
         }
      }
      if(n==1 || m==1)
      {
         for(int i = 0; i < k; ++ i)
            s[i] = '*';
         s[ max(n,m)-1 ] = 'c';
         if(n==1)
            cout<<s<<endl;
         else
         {
            for(int i = 0; i < n; ++ i)
            cout<<s[i]<<"\n";
         }
         continue;
      }
      if(n==2 || m==2)
      {
         int er = max(n, m);
         if(k > (er-2)*2 || k%2==1)
         {
            cout<<"Impossible\n";
            continue;
         }
         else
         {
            for(int i = 0; i < k/2; ++ i)
            {
               s[i] = '*';
               s[er+i] = '*';
            }
            s[er+er-1] = 'c';
         }
         if(n==2)
         {
            for(int i = 0; i < n; ++ i)
            {
               for(int j = 0; j < m; ++ j)
               {
                  cout<<s[i*m+j];
               }
               cout<<endl;
            }
         }
         else
         {
            for(int i = 0; i < n; ++ i)
            {
               for(int j = 0; j < m; ++ j)
               {
                  cout<<s[j*er+i];
               }
               cout<<endl;
            }
         }
         continue;
      }
      y = s;
      E = m;
      getans(0, 0, n, m, k);
      s = y;
      if(s[0]=='I')
         cout<<"Impossible\n";
      else
      {
         for(int u = 0; u < n; ++ u)
         {
            for(int v = 0; v < m; ++ v)
            {
               cout<<s[u*m+v];
            }
            cout<<endl;
         }
      }
   }
/*   cout<<"string re[ M ] = {";
   for(int i = 1; i <= N; ++ i)
   {
      for(int j = 1; j <= N; ++ j)
      {
         for(int k = 0; k <= N*N; ++ k)
         {
            //
            int in = F(i, j, k);
            r[ in ] = solve(i, j, k);
            char c = '"';
            cout<<c;
            for(int u = 0; u < N; ++ u)
            {
               for(int v = 0; v < N; ++ v)
               {
                  cout<<r[ in ][u*N+v];
               }
            }
            cout<<c;
            if(i==N && j==N && k==N*N)
            continue;
            cout<<",";
         }
      }
   }
   cout<<"};";*/
   /*string s = solve(4, 5,20-6);

   for(int i = 0; i < N; ++ i)
   {
      for(int j = 0; j < N; ++ j)
      {
         cout<<s[i*N+j];
      }
      cout<<endl;
   }*/
   return 0;
}
