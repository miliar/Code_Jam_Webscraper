#include<iostream>
#include<cstring>
#include<cstdio>
using namespace std;
int a[5][5][25]={
/*{{0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1}},
{{0,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,-1,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,9,-1,-1,31,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,17,-1,51,-1,-1,127,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,33,-1,99,-1,231,-1,-1,511,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1}},
{{0,1,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,3,-1,-1,31,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,68,7,-1,79,-1,-1,255,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,268,15,-1,287,-1,831,-1,-1,2047,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,1052,31,3171,1087,-1,3199,-1,7423,-1,-1,16383,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1}},
{{0,1,3,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,3,-1,15,-1,-1,127,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,9,7,15,-1,63,-1,639,-1,-1,2047,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,19,15,31,63,4383,255,-1,4607,-1,13311,-1,-1,32767,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,39,31,63,127,255,33919,1023,101503,34815,-1,102399,-1,237567,-1,-1,524287,-1,-1,-1,-1,-1}},
{{0,1,3,7,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,3,-1,15,-1,63,-1,-1,511,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,9,7,15,79,63,127,-1,511,-1,5119,-1,-1,16383,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,19,15,31,63,319,255,511,1023,70143,4095,-1,73727,-1,212991,-1,-1,524287,-1,-1,-1,-1,-1},
{0,1,3,7,39,31,63,127,255,1279,1023,2047,4095,8191,1085439,32767,3248127,1114111,-1,3276799,-1,7602175,-1,-1,16777215}}};
*/
{{0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1}},
{{0,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,-1,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,9,-1,-1,31,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,17,-1,51,-1,-1,127,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,33,-1,99,-1,231,-1,-1,511,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1}},
{{0,1,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,3,-1,-1,31,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,-1,7,-1,79,-1,-1,255,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,273,15,-1,287,-1,831,-1,-1,2047,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,1059,31,3171,1087,-1,3199,-1,7423,-1,-1,16383,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1}},
{{0,1,3,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,3,-1,15,-1,-1,127,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,9,7,15,-1,63,-1,639,-1,-1,2047,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,19,15,31,63,4383,255,-1,4607,-1,13311,-1,-1,32767,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,7,39,31,63,127,255,33919,1023,101503,34815,-1,102399,-1,237567,-1,-1,524287,-1,-1,-1,-1,-1}},
{{0,1,3,7,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,-1,3,-1,15,-1,63,-1,-1,511,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,9,7,15,79,63,127,-1,511,-1,5119,-1,-1,16383,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{0,1,3,19,15,31,63,319,255,511,1023,70143,4095,-1,73727,-1,212991,-1,-1,524287,-1,-1,-1,-1,-1},
{0,1,3,7,39,31,63,127,255,1279,1023,2047,4095,8191,1085439,32767,3248127,1114111,-1,3276799,-1,7602175,-1,-1,16777215}}};




int d[8][2]={{1,0},{0,1},{-1,0},{0,-1},{1,1},{1,-1},{-1,1},{-1,-1}};
int change(int n,int m,int k,int state)
{
    char str[10][10];
    int num=0,i,j,l;
    for(i=1;i<=n;i++)
    {
        for(j=1;j<=m;j++)
        {
            if(state&(1<<num))
                str[i][j]='*';
            else
                str[i][j]='.';
            num++;
        }
        str[i][j]='\0';
    }
    if(k==n*m-1)
    {
        for(i=1;i<=n;i++)
            for(j=1;j<=m;j++)
                if(str[i][j]=='.')
                    str[i][j]='c';
    }
    else 
    {
         int flag=1;
         for(i=1;i<=n&&flag;i++)
             for(j=1;j<=m&&flag;j++)
                 if(str[i][j]=='.')
                 {
                     int f=1;
                     for(l=0;l<8;l++)
                     {
                         int x=i+d[l][0],y=j+d[l][1];
                         if(x>0&&x<=n&&y>0&&y<=m&&str[x][y]=='*')
                         {
                             f=0; break;
                         }
                     }
                     if(f)
                     {
                          str[i][j]='c';
                          flag=0;
                     }
                 }
    }
    for(i=1;i<=n;i++)
        printf("%s\n",str[i]+1);
    return 0;
}
int main()
{
    freopen("data.in","r",stdin);
    freopen("data1.out","w",stdout);
    int tt,ii,n,m,k;
    scanf("%d",&tt);
    for(ii=1;ii<=tt;ii++)
    {
        scanf("%d%d%d",&n,&m,&k);
        printf("Case #%d:\n",ii);
        if(a[n-1][m-1][k]==-1)
            printf("Impossible\n");
        else 
            change(n,m,k,a[n-1][m-1][k]);
    }
    return 0;
}
