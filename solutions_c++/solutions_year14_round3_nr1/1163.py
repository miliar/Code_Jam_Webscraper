#include<iostream>#include<cstdio>using namespace std;#define LL long longLL max(LL a,LL b){return (a>b)?a:b;}LL min(LL a,LL b){return (a<b)?a:b;}LL gcd(LL a,LL b)						// remember max and min{return (b)?gcd(b,a%b):a;}int main(){ LL T,tt=0,p,q,x; bool ans; scanf("%lld",&T); while(T--) {  tt++;  ans=true;  scanf("\n%lld/%lld",&p,&q);  x=gcd(q,p);  p/=x;  q/=x;  if(q&(q-1))   ans=false;  x=1;  while((p<<1)<q)   x++,p<<=1;  if(ans)   printf("Case #%lld: %lld\n",tt,x);  else   printf("Case #%lld: impossible\n",tt); } return 0;}