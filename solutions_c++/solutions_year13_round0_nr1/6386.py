#include <iostream>
#include <cstdio>
#include <vector>
using namespace std;
bool q;
int n;
char a[5][5];

void check()
{
	if (((a[0][0]=='X') || (a[0][0]=='T')) && ((a[1][0]=='X') || (a[1][0]=='T')) && ((a[2][0]=='X') || (a[2][0]=='T')) && ((a[3][0]=='X') || (a[3][0]=='T')))
	{
		cout<<"X won";
		return;
	}

	if (((a[0][1]=='X') || (a[0][1]=='T')) && ((a[1][1]=='X') || (a[1][1]=='T')) && ((a[2][1]=='X') || (a[2][1]=='T')) && ((a[3][1]=='X') || (a[3][1]=='T')))
	{
		cout<<"X won";
		return;
	}

	if (((a[0][2]=='X') || (a[0][2]=='T')) && ((a[1][2]=='X') || (a[1][2]=='T')) && ((a[2][2]=='X') || (a[2][2]=='T')) && ((a[3][2]=='X') || (a[3][2]=='T')))
	{
		cout<<"X won";
		return;
	}

	if (((a[0][3]=='X') || (a[0][3]=='T')) && ((a[1][3]=='X') || (a[1][3]=='T')) && ((a[2][3]=='X') || (a[2][3]=='T')) && ((a[3][3]=='X') || (a[3][3]=='T')))
	{
		cout<<"X won";
		return;
	}




	if (((a[0][0]=='O') || (a[0][0]=='T')) && ((a[1][0]=='O') || (a[1][0]=='T')) && ((a[2][0]=='O') || (a[2][0]=='T')) && ((a[3][0]=='O') || (a[3][0]=='T')))
	{
		cout<<"O won";
		return;
	}

	if (((a[0][1]=='O') || (a[0][1]=='T')) && ((a[1][1]=='O') || (a[1][1]=='T')) && ((a[2][1]=='O') || (a[2][1]=='T')) && ((a[3][1]=='O') || (a[3][1]=='T')))
	{
		cout<<"O won";
		return;
	}

	if (((a[0][2]=='O') || (a[0][2]=='T')) && ((a[1][2]=='O') || (a[1][2]=='T')) && ((a[2][2]=='O') || (a[2][2]=='T')) && ((a[3][2]=='O') || (a[3][2]=='T')))
	{
		cout<<"O won";
		return;
	}

	if (((a[0][3]=='O') || (a[0][3]=='T')) && ((a[1][3]=='O') || (a[1][3]=='T')) && ((a[2][3]=='O') || (a[2][3]=='T')) && ((a[3][3]=='O') || (a[3][3]=='T')))
	{
		cout<<"O won";
		return;
	}


	if (((a[0][0]=='X') || (a[0][0]=='T')) && ((a[1][1]=='X') || (a[1][1]=='T')) && ((a[2][2]=='X') || (a[2][2]=='T')) && ((a[3][3]=='X') || (a[3][3]=='T')))
	{
		cout<<"X won";
		return;
	}

	if (((a[0][0]=='O') || (a[0][0]=='T')) && ((a[1][1]=='O') || (a[1][1]=='T')) && ((a[2][2]=='O') || (a[2][2]=='T')) && ((a[3][3]=='O') || (a[3][3]=='T')))
	{
		cout<<"O won";
		return;
	}


	
	if (((a[0][3]=='X') || (a[0][3]=='T')) && ((a[1][2]=='X') || (a[1][2]=='T')) && ((a[2][1]=='X') || (a[2][1]=='T')) && ((a[3][0]=='X') || (a[3][0]=='T')))
	{
		cout<<"X won";
		return;
	}

	if (((a[0][3]=='O') || (a[0][3]=='T')) && ((a[1][2]=='O') || (a[1][2]=='T')) && ((a[2][1]=='O') || (a[2][1]=='T')) && ((a[3][0]=='O') || (a[3][0]=='T')))
	{
		cout<<"O won";
		return;
	}



	if (((a[0][0]=='X') || (a[0][0]=='T')) && ((a[0][1]=='X') || (a[0][1]=='T')) && ((a[0][2]=='X') || (a[0][2]=='T')) && ((a[0][3]=='X') || (a[0][3]=='T')))
	{
		cout<<"X won";
		return;
	}

	if (((a[1][0]=='X') || (a[1][0]=='T')) && ((a[1][1]=='X') || (a[1][1]=='T')) && ((a[1][2]=='X') || (a[1][2]=='T')) && ((a[1][3]=='X') || (a[1][3]=='T')))
	{
		cout<<"X won";
		return;
	}
	
	if (((a[2][0]=='X') || (a[2][0]=='T')) && ((a[2][1]=='X') || (a[2][1]=='T')) && ((a[2][2]=='X') || (a[2][2]=='T')) && ((a[2][3]=='X') || (a[2][3]=='T')))
	{
		cout<<"X won";
		return;
	}

	if (((a[3][0]=='X') || (a[3][0]=='T')) && ((a[3][1]=='X') || (a[3][1]=='T')) && ((a[3][2]=='X') || (a[3][2]=='T')) && ((a[3][3]=='X') || (a[3][3]=='T')))
	{
		cout<<"X won";
		return;
	}



	if (((a[0][0]=='O') || (a[0][0]=='T')) && ((a[0][1]=='O') || (a[0][1]=='T')) && ((a[0][2]=='O') || (a[0][2]=='T')) && ((a[0][3]=='O') || (a[0][3]=='T')))
	{
		cout<<"O won";
		return;
	}

	if (((a[1][0]=='O') || (a[1][0]=='T')) && ((a[1][1]=='O') || (a[1][1]=='T')) && ((a[1][2]=='O') || (a[1][2]=='T')) && ((a[1][3]=='O') || (a[1][3]=='T')))
	{
		cout<<"O won";
		return;
	}
	
	if (((a[2][0]=='O') || (a[2][0]=='T')) && ((a[2][1]=='O') || (a[2][1]=='T')) && ((a[2][2]=='O') || (a[2][2]=='T')) && ((a[2][3]=='O') || (a[2][3]=='T')))
	{
		cout<<"O won";
		return;
	}

	if (((a[3][0]=='O') || (a[3][0]=='T')) && ((a[3][1]=='O') || (a[3][1]=='T')) && ((a[3][2]=='O') || (a[3][2]=='T')) && ((a[3][3]=='O') || (a[3][3]=='T')))
	{
		cout<<"O won";
		return;
	}

		if (q)
		cout<<"Game has not completed";
	else cout<<"Draw";
	
}

int main()
{
	freopen("A-large.in","r",stdin);
	freopen("output.txt","w",stdout);
	char c;
	cin>>n;

	for (int k=0;k<n;k++)
	{
		for (int i=0;i<4;i++)
			for (int j=0;j<4;j++)
			{
				cin>>a[i][j];
				if (a[i][j]=='.') q=true;
			}
		cout<<"Case #"<<k+1<<": ";
		check();
		scanf("%c",&c);
		cout<<endl;
		q=false;
	}
}