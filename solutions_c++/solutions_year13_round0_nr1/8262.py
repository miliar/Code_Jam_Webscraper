#include <iostream>

using namespace std;

int main()
{
    int t;
    cin >> t;
    for(int i = 0; i < t; i++)
    {
        string t = "";
        for(int j = 0; j < 4; j++)
        {
            string x;
            cin >> x;
            t += x;
        }
        int dots = 0;
        for(int j = 0; j < t.length(); j++) if(t[j] == '.') dots++;
        cout << "Case #" << i + 1 << ": ";
        
        if((t[0] != '.' && t[1] != '.' && t[2] != '.' && t[3] != '.')
        && (t[0] == t[1] && t[1] == t[2] && t[2] == t[3]
        || t[0] == t[1] && t[1] == t[2] && t[3] == 'T'
        || t[0] == t[1] && t[1] == t[3] && t[2] == 'T'
        || t[0] == t[2] && t[2] == t[3] && t[1] == 'T'
        || t[1] == t[2] && t[2] == t[3] && t[0] == 'T'))
            cout << (t[0] == 'T'?t[1]:t[0]) << " won" << endl;
        else if((t[4] != '.' && t[5] != '.' && t[6] != '.' && t[7] != '.')
        && (t[4] == t[5] && t[5] == t[6] && t[6] == t[7]
        || t[4] == t[5] && t[5] == t[6] && t[7] == 'T'
        || t[4] == t[5] && t[5] == t[7] && t[6] == 'T'
        || t[4] == t[6] && t[6] == t[7] && t[5] == 'T'
        || t[5] == t[6] && t[6] == t[7] && t[4] == 'T'))
            cout << (t[4] == 'T'?t[5]:t[4]) << " won" << endl;
        else if((t[8] != '.' && t[9] != '.' && t[10] != '.' && t[11] != '.')
        && (t[8] == t[9] && t[9] == t[10] && t[10] == t[11]
        || t[8] == t[9] && t[9] == t[10] && t[11] == 'T'
        || t[8] == t[9] && t[9] == t[11] && t[10] == 'T'
        || t[8] == t[10] && t[10] == t[11] && t[9] == 'T'
        || t[9] == t[10] && t[10] == t[11] && t[8] == 'T'))
            cout << (t[8] == 'T'?t[9]:t[8]) << " won" << endl;
        else if((t[12] != '.' && t[13] != '.' && t[14] != '.' && t[15] != '.')
        && (t[12] == t[13] && t[13] == t[14] && t[14] == t[15]
        || t[12] == t[13] && t[13] == t[14] && t[15] == 'T'
        || t[12] == t[13] && t[13] == t[15] && t[14] == 'T'
        || t[12] == t[14] && t[14] == t[15] && t[13] == 'T'
        || t[13] == t[14] && t[14] == t[15] && t[12] == 'T'))
            cout << (t[12] == 'T'?t[13]:t[12]) << " won" << endl;
        
        else if((t[0] != '.' && t[4] != '.' && t[8] != '.' && t[12] != '.')
        && (t[0] == t[4] && t[4] == t[8] && t[8] == t[12]
        || t[0] == t[4] && t[4] == t[8] && t[12] == 'T'
        || t[0] == t[4] && t[4] == t[12] && t[8] == 'T'
        || t[0] == t[8] && t[8] == t[12] && t[4] == 'T'
        || t[4] == t[8] && t[8] == t[12] && t[0] == 'T'))
            cout << (t[0] == 'T'?t[4]:t[0]) << " won" << endl;
        else if((t[1] != '.' && t[5] != '.' && t[9] != '.' && t[13] != '.')
        && (t[1] == t[5] && t[5] == t[9] && t[9] == t[13]
        || t[1] == t[5] && t[5] == t[9] && t[13] == 'T'
        || t[1] == t[5] && t[5] == t[13] && t[9] == 'T'
        || t[1] == t[9] && t[9] == t[13] && t[5] == 'T'
        || t[5] == t[9] && t[9] == t[13] && t[1] == 'T'))
            cout << (t[1] == 'T'?t[5]:t[1]) << " won" << endl;
        else if((t[2] != '.' && t[6] != '.' && t[10] != '.' && t[14] != '.')
        && (t[2] == t[6] && t[6] == t[10] && t[10] == t[14]
        || t[2] == t[6] && t[6] == t[10] && t[14] == 'T'
        || t[2] == t[6] && t[6] == t[14] && t[10] == 'T'
        || t[2] == t[10] && t[10] == t[14] && t[6] == 'T'
        || t[6] == t[10] && t[10] == t[14] && t[2] == 'T'))
            cout << (t[2] == 'T'?t[6]:t[2]) << " won" << endl;
        else if((t[3] != '.' && t[7] != '.' && t[11] != '.' && t[15] != '.')
        && (t[3] == t[7] && t[7] == t[11] && t[11] == t[15]
        || t[3] == t[7] && t[7] == t[11] && t[15] == 'T'
        || t[3] == t[7] && t[7] == t[15] && t[11] == 'T'
        || t[3] == t[11] && t[11] == t[15] && t[7] == 'T'
        || t[7] == t[11] && t[11] == t[15] && t[3] == 'T'))
            cout << (t[3] == 'T'?t[7]:t[3]) << " won" << endl;
        
        else if((t[0] != '.' && t[5] != '.' && t[10] != '.' && t[15] != '.')
        && (t[0] == t[5] && t[5] == t[10] && t[10] == t[15]
        || t[0] == t[5] && t[5] == t[10] && t[15] == 'T'
        || t[0] == t[5] && t[5] == t[15] && t[10] == 'T'
        || t[0] == t[10] && t[10] == t[15] && t[5] == 'T'
        || t[5] == t[10] && t[10] == t[15] && t[0] == 'T'))
            cout << (t[0] == 'T'?t[5]:t[0]) << " won" << endl;
        else if((t[3] != '.' && t[6] != '.' && t[9] != '.' && t[12] != '.')
        && (t[3] == t[6] && t[6] == t[9] && t[9] == t[12]
        || t[3] == t[6] && t[6] == t[9] && t[12] == 'T'
        || t[3] == t[6] && t[6] == t[12] && t[9] == 'T'
        || t[3] == t[9] && t[9] == t[12] && t[6] == 'T'
        || t[6] == t[9] && t[9] == t[12] && t[3] == 'T'))
            cout << (t[3] == 'T'?t[3]:t[6]) << " won" << endl;
        else if(dots == 0) cout << "Draw" << endl;
        else cout << "Game has not completed" << endl;
    }
	return 0;
}