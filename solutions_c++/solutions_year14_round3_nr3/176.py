#include<stdio.h>

int main(){
	int a[6][15] = {{0, 1, 2, 3, 5, 6, 7, 8, 9},							//3*3
					{0, 1, 2, 3, 5, 6, 8, 9, 10, 11, 12},					//3*4
					{0, 1, 2, 3, 5, 6, 8, 9, 11, 12, 13, 14, 15},			//3*5
					{0, 1, 2, 3, 5, 6, 8, 9, 11, 12, 14, 15, 16, 17, 18},	//3*6
					{0, 1, 2, 3, 5, 6, 8, 10, 12, 13, 14, 15, 16},			//4*4
					{0, 1, 2, 3, 5, 6, 8, 10, 12, 14, 16, 17, 18, 19, 20},	//4*5
	};
	int t, u;
	scanf("%d", &t);
	for (u = 1 ; u <= t ; ++u){
		int n, m, k, z, i;
		scanf("%d%d%d", &n, &m, &k);
		if (n > m)z = n, n = m, m = z;
		if (n == 1 || n == 2)
			printf("Case #%d: %d\n", u, k);
		else {
			for (i = 0 ; ; ++i)
				if (a[m - n % 4][i] >= k)break;
			printf("Case #%d: %d\n", u, i);
		}
	}
	return 0;
}
