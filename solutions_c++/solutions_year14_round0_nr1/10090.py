#include<iostream>
#include<fstream.h>
#include<sstream>
#include<string.h>

using namespace std;
int main()
{
    int t,i,j=0,k,m,l,x,a1,a2;
    ifstream f2;
    ofstream f1;
    f1.open("p.txt");
    f2.open("magictrickinput");
    //string z[48]={"1","4","9","121","484","10201","12321","14641","40804","44944","1002001","1234321","4008004","100020001","102030201","104060401","121242121","123454321","125686521","400080004","404090404","10000200001","10221412201","12102420121","12345654321","40000800004","1000002000001","1002003002001","1004006004001","1020304030201","1022325232201","1024348434201","1210024200121","1212225222121","1214428244121","1232346432321","1234567654321","4000008000004","4004009004004","100000020000001","100220141022001","102012040210201","102234363432201","121000242000121","121242363242121","123212464212321","123456787654321","400000080000004"};
    f2>>t;
    m=1;
    while(t--)
    {
    f2>>a1;
    int a[4][4];
    int c[4][4];
     for(i=0;i<4;++i)
     {
      for(j=0;j<4;++j)
      {
       f2>>a[i][j];          
      }
      }
      int b[4];
      for(i=0;i<4;++i)
      b[i]=a[a1-1][i];
      f2>>a2;
      int cnt=0;
     for(i=0;i<4;++i)
     {
      for(j=0;j<4;++j)
      {
       f2>>c[i][j];          
      }
      }
      int d[4];
      for(i=0;i<4;++i)
      d[i]=c[a2-1][i];
      for(i=0;i<4;++i)
      {
       for(j=0;j<4;++j)
       {
        if(b[i]==d[j])
        {
         x=b[i];
        cnt++;
        }
        }
        }
      if(cnt==1)
       f1<<"Case #"<<m<<": "<<x<<endl;
       else if(cnt==0)
       f1<<"Case #"<<m<<": Volunteer cheated!"<<endl;
       else
      f1<<"Case #"<<m<<": Bad magician!"<<endl;
      m++;
      }
      f1.close();
      return 0;
      }
          
        
