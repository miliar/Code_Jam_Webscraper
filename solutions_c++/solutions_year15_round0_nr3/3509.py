#include<iostream>#include<algorithm>#include<cstdio>#include<vector>#include<cstring>#include<string>#include<cstdlib>#include<math.h>#include<cctype>#include<iomanip>#include<map>#include<set>#include<stack>#include<queue>#include<cassert>#include<sstream>#include<ctime> using namespace std; #define L long#define LL long long#define ULL unsigned long long//#define D double #define LD long double//#define G getchar#define MOD 1000000007#define f first#define s second#define pb push_back#define mp make_pair#define ULL unsigned long long#define pll pair <L,L>#define INF ((1<<30)+(1<<29))   LL gcd(LL a,LL b){return (b)?gcd(b,a%b):a;}LL lcm(LL a,LL b){return a*b/gcd(a,b);}LL modpow(LL n ,LL k,LL mod){LL ans=1;while(k>0){if(k&1)ans=(ans*n)%mod;k>>=1;n=(n*n)%mod;}return ans%mod;}LL max(LL a,LL b){return (a>b)?a:b;}LL min(LL a,LL b){return (a<b)?a:b;}LL ab(LL a){return (a>0)?a:-a;}LL poww(LL n,LL k){LL ans=1;while(k>0){if(k&1)ans*=n;k>>=1;n*=n;}return ans;}  L max(L a,L b){return (a>b)?a:b;}L min(L a,L b){return (a<b)?a:b;}L ab(L a){return (a>0)?a:-a;}LL A[10][10]={};vector<LL> S;vector<pair<LL,LL> >PP;LL calc(){ LL y=S[0],i,m=0; for(i=1;i<S.size();i++) {  if(y<0)   m^=1;  PP.pb(mp(ab(y),m));  y=A[ab(y)][S[i]]; } if(y<0)m^=1; PP.pb(mp(ab(y),m)); return 0;}LL f(){ LL i,j,x,y,m,n; pair<LL,LL>p1,p2,pp1,pp2; for(i=1;i<S.size()-1;i++) {  p1=PP[i-1];  if(p1.f==2&&p1.s==0)  {   for(j=i+1;j<S.size();j++)   {    p1=PP[j-1];	pp1=PP[i-1];	x=A[pp1.f][p1.f];	m=p1.s^pp1.s^1;	if(x<0)m^=1;	p2=PP[S.size()-1];	pp2=PP[j-1];	y=A[pp2.f][p2.f];	n=p2.s^pp2.s^1;	if(y<0)n^=1;	x=ab(x);	y=ab(y);	if(x==3&&y==4&&m==0&&n==0)	 return 1;   }  } } return 0;}int main(){ ios::sync_with_stdio(false); string st; LL T,tt,l,x,i; A[1][1]=1; A[2][2]=A[3][3]=A[4][4]=-1; A[1][2]=A[2][1]=A[3][4]=2; A[4][3]=-2; A[1][4]=A[2][3]=A[4][1]=4; A[3][2]=-4; A[1][3]=A[3][1]=A[4][2]=3; A[2][4]=-3; tt=0; cin>>T; while(T--) {PP.clear();  S.clear();  tt++;  cin>>l>>x;  cin>>st;  for(i=0;i<x*l;i++)  {    if(st[i%l]=='i')S.pb(2);   else   if(st[i%l]=='j')S.pb(3);   else    S.pb(4);  }  calc();  cout<<"Case #"<<tt<<": "<<(f()?"YES":"NO")<<endl; } return 0;}