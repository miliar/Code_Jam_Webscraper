#include <cstdio>
using namespace std;

int a[2][2],b[2][2],c[2][2],list[100],tot,n;

int main(){
    scanf("%d",&tot);
    for (int cases=0;cases<tot;++cases){
        scanf("%d",&n);
        int len=0;
        while (n!=0){
            list[++len]=n%2;
            n>>=1;
        }
        a[0][0]=b[0][0]=0;
        a[0][1]=b[0][1]=996;
        a[1][0]=b[1][0]=1;
        a[1][1]=b[1][1]=6;
        for (int i=len-1;i>0;--i){
            c[0][0]=(b[0][0]*b[0][0]+b[0][1]*b[1][0])%1000;
            c[0][1]=(b[0][0]*b[0][1]+b[0][1]*b[1][1])%1000;
            c[1][0]=(b[1][0]*b[0][0]+b[1][1]*b[1][0])%1000;
            c[1][1]=(b[1][0]*b[0][1]+b[1][1]*b[1][1])%1000;
            if (list[i]==1){
                b[0][0]=(c[0][0]*a[0][0]+c[0][1]*a[1][0])%1000;
                b[0][1]=(c[0][0]*a[0][1]+c[0][1]*a[1][1])%1000;
                b[1][0]=(c[1][0]*a[0][0]+c[1][1]*a[1][0])%1000;
                b[1][1]=(c[1][0]*a[0][1]+c[1][1]*a[1][1])%1000;
            }
            else{
                b[0][0]=c[0][0];
                b[0][1]=c[0][1];
                b[1][0]=c[1][0];
                b[1][1]=c[1][1];
            }
        }
        int ans=(2*b[0][0]+6*b[1][0])%1000;
        if (ans==0) printf("Case #%d: 999\n",cases+1);
        else printf("Case #%d: %d%d%d\n",cases+1,(ans-1)/100,(ans-1)/10%10,(ans-1)%10);
    }
    return 0;
}
