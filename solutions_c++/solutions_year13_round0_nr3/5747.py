#include<fstream>
using namespace std;
ifstream f("Input");
ofstream g("Output");
unsigned long long t,a,b,nr,i,j,v[40],c;
int main()
{ f>>t;
  v[1]=1;
  v[2]=2;
  v[3]=3;
  v[4]=11;
  v[5]=22;
  v[6]=101;
  v[7]=111;
  v[8]=121;
  v[9]=202;
  v[10]=212;
  v[11]=1001;
  v[12]=1111;
  v[13]=2002;
  v[14]=10001;
  v[15]=10101;
  v[16]=10201;
  v[17]=11011;
  v[18]=11111;
  v[19]=11211;
  v[20]=20002;
  v[21]=20102;
  v[22]=100001;
  v[23]=101101;
  v[24]=110011;
  v[25]=111111;
  v[26]=200002;
  v[27]=1000001;
  v[28]=1001001;
  v[29]=1002001;
  v[30]=1010101;
  v[31]=1011101;
  v[32]=1012101;
  v[33]=1100011;
  v[34]=1101011;
  v[35]=1102011;
  v[36]=1110111;
  v[37]=1111111;
  v[38]=2000002;
  v[39]=2001002;
  v[40]=10000001;
  for(i=1;i<=t;++i) { f>>a>>b;
                      nr=0;
                      for(j=1;j<=40;++j) if(v[j]*v[j]>=a&&v[j]*v[j]<=b) ++nr;
                      g<<"Case #"<<i<<": "<<nr<<'\n';
                     }
  f.close();
  g.close();
  return 0;
}
