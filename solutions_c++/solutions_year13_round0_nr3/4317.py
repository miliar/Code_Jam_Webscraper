//
//  main.cpp
//  c
//
//  Created by Louis St-Amour on 2013-04-13.
//  Copyright (c) 2013 Louis St-Amour. All rights reserved.
//

#include <cstdio>
#include <cstring>
#include <algorithm>
#include <vector>
using namespace std;

int main(int argc, const char * argv[])
{
    int tc; scanf("%d\n", &tc);
    for(int tci = 0; tci < tc; tci++) {
        unsigned long long int a, b; scanf("%llu %llu\n", &a, &b);
        // 0..10^20 or so, 412 square and fair numbers (sequence A057136)
        unsigned long long int square_and_fair [87] = { 0ULL, 1ULL, 4ULL, 9ULL, 121ULL, 484ULL, 10201ULL, 12321ULL, 14641ULL, 40804ULL, 44944ULL, 1002001ULL, 1234321ULL, 4008004ULL, 100020001ULL, 102030201ULL, 104060401ULL, 121242121ULL, 123454321ULL, 125686521ULL, 400080004ULL, 404090404ULL, 10000200001ULL, 10221412201ULL, 12102420121ULL, 12345654321ULL, 40000800004ULL, 1000002000001ULL, 1002003002001ULL, 1004006004001ULL, 1020304030201ULL, 1022325232201ULL, 1024348434201ULL, 1210024200121ULL, 1212225222121ULL, 1214428244121ULL, 1232346432321ULL, 1234567654321ULL, 4000008000004ULL, 4004009004004ULL, 100000020000001ULL, 100220141022001ULL, 102012040210201ULL, 102234363432201ULL, 121000242000121ULL, 121242363242121ULL, 123212464212321ULL, 123456787654321ULL, 400000080000004ULL, 10000000200000001ULL, 10002000300020001ULL, 10004000600040001ULL, 10020210401202001ULL, 10022212521222001ULL, 10024214841242001ULL, 10201020402010201ULL, 10203040504030201ULL, 10205060806050201ULL, 10221432623412201ULL, 10223454745432201ULL, 12100002420000121ULL, 12102202520220121ULL, 12104402820440121ULL, 12122232623222121ULL, 12124434743442121ULL, 12321024642012321ULL, 12323244744232321ULL, 12343456865434321ULL, 12345678987654321ULL, 40000000800000004ULL, 40004000900040004ULL, 1000000002000000001ULL, 1000220014100220001ULL, 1002003004003002001ULL, 1002223236323222001ULL, 1020100204020010201ULL, 1020322416142230201ULL, 1022123226223212201ULL, 1022345658565432201ULL, 1210000024200000121ULL, 1210242036302420121ULL, 1212203226223022121ULL, 1212445458545442121ULL, 1232100246420012321ULL, 1232344458544432321ULL, 1234323468643234321ULL, 4000000008000000004ULL };
        int count = count_if(&square_and_fair[0], &square_and_fair[86], [a,b](unsigned long long int i){ return (i >= a && i <= b); });
        printf("Case #%d: %d\n", tci+1, count);
    }
    return 0;
}
