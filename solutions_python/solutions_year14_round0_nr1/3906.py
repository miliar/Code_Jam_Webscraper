'''
Created on 12 Apr 2014

@author: Steph
'''

import numpy as np
import StringIO

fin = open("A-small-attempt2.in", "r")
fout = open("A-small-attempt2.out", "w")
data = [0]

for line in fin:
    data.append(np.loadtxt(StringIO.StringIO(line), dtype=int))

numcases = data[1]

for i in range(numcases):
    match = 0
    row1 = data[i*10+2]
    row2 = data[i*10+7]
    data1 = data[i*10+2+row1]
    data2 = data[i*10+7+row2]
    for j in range(len(data1)):
        for k in range(len(data2)):
            if data1[j] == data2[k]:
                match = match+1
                matchnumber = data1[j]
    if match == 1:
        fout.write("Case #" + str(i+1) + ": " + str(matchnumber) + "\n")
    if match == 0:
        fout.write("Case #" + str(i+1) + ": Volunteer cheated!\n")
    if match > 1:
        fout.write("Case #" + str(i+1) + ": Bad magician!\n")
        
    
    
    
    




















































































































































































































































































































































