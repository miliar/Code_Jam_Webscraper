# -*- codi9ng: cp932 -*-
# "0" :(0,0,0)
# "1" : (1,0,0)
# "2" : ((1,1,0),(2,0,0))
# "3" : ((1,1,1),(2,1,0))
# "4" : ((1,1,2),(2,2,0))
# "5" : ((1,2,2),(1,1,3))
# "6" : ((2,2,2),(1,2,3))
# "7" : ((2,2,3),(1,3,3))
# "8" : ((2,3,3),(2,2,4))
# "9" : ((3,3,3),(2,3,4))
# "10" : ((3,3,4),(2,4,4))
# "11" : ((3,4,4),(3,3,5))
# "12" : ((4,4,4),(3,4,5))
# "13" : ((4,4,5),(3,5,5))
# "14" : ((4,5,5),(4,4,6))
# "15" : ((5,5,5),(4,5,6))
# "16" : ((5,5,6),(4,6,6))
# "17" : ((5,6,6),(5,5,7))
# "18" : ((6,6,6),(5,6,7))
# "19" : ((6,6,7),(5,7,7))
# "20" : ((6,7,7),(6,6,8))
# "21" : ((7,7,7),(6,7,8))
# "22" : ((7,7,8),(6,8,8))
# "23" : ((7,8,8),(7,7,9))
# "24" : ((8,8,8),(7,8,9))
# "25" : ((8,8,9),(7,9,9))
# "26" : ((8,9,9),(8,8,10))
# "27" : ((9,9,9),(8,9,10))
# "28" : ((9,9,10),(8,10,10))
# "29" : (9,10,10)
# "30" : (10,10,10)

#for i in xrange(0,11):
#    for j in xrange(0,11):
#        for k in xrange(0,11):
#            if max(i,j,k) - min(i,j,k) < 2:
#                print "non :",i+j+k,":("+str(i)+","+str(j)+","+str(k)+")"
#            if max(i,j,k) - min(i,j,k) == 2:
#                print "surprise :" ,i+j+k,":("+str(i)+","+str(j)+","+str(k)+")"

#((non-surprising),(surprising or (-1,-1,-1))
dic = {"0":((0,0,0),(-1,-1,-1)),"1":((1,0,0),(-1,-1,-1)),"2":((1,1,0),(2,0,0)),"3":((1,1,1),(2,1,0)),"3" : ((1,1,1),(2,1,0)),"4" : ((1,1,2),(2,2,0)),"5" : ((1,2,2),(1,1,3)),"6" : ((2,2,2),(1,2,3)),"7" : ((2,2,3),(1,3,3)),"8" : ((2,3,3),(2,2,4)),"9" : ((3,3,3),(2,3,4)),"10" : ((3,3,4),(2,4,4)),"11" : ((3,4,4),(3,3,5)),"12" : ((4,4,4),(3,4,5)),"13" : ((4,4,5),(3,5,5)),"14" : ((4,5,5),(4,4,6)),"15" : ((5,5,5),(4,5,6)),"16" : ((5,5,6),(4,6,6)),"17" : ((5,6,6),(5,5,7)),"18" : ((6,6,6),(5,6,7)),"19" : ((6,6,7),(5,7,7)),"20" : ((6,7,7),(6,6,8)),"21" : ((7,7,7),(6,7,8)),"22" : ((7,7,8),(6,8,8)),"23" : ((7,8,8),(7,7,9)),"24" : ((8,8,8),(7,8,9)),"25" : ((8,8,9),(7,9,9)),"26" : ((8,9,9),(8,8,10)),"27" : ((9,9,9),(8,9,10)),"28" : ((9,9,10),(8,10,10)),"29" : ((9,10,10),(-1,-1,-1)),"30" : ((10,10,10),(-1,-1,-1))}

num_in = input()
num_out = 1

while 0 < num_in :
    ans = 0
    inp = raw_input()
    
    inp_list = inp.split()
    N,S,p = int(inp_list[0]),int(inp_list[1]),inp_list[2]
    t_list = inp_list[3:]
    
    while 0 < N:
        t = dic[t_list[N-1]]
        if max(t[0]) >= int(p) or min(t[0]) >= int(p):
            ans += 1
        elif S > 0:
            if max(t[1]) >= int(p) or min(t[1]) >= int(p):
                ans += 1
                S -= 1
        N -= 1
    print "Case #"+str(num_out)+": " + str(ans)
    num_in -= 1
    num_out += 1
