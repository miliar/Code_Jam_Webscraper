{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "import numpy as np"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "file_name = 'C-large.in'\n",
    "file_solu = 'C-large.out'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "primes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {
    "collapsed": false
   },
   "outputs": [],
   "source": [
    "def next_coin(previous_samples, N):\n",
    "    rand_int = previous_samples[0]\n",
    "    while rand_int in previous_samples:\n",
    "        rand_int = np.random.randint(0, 2**N +1)\n",
    "    \n",
    "    previous_samples.append(rand_int)\n",
    "    binary = np.binary_repr(rand_int, width=N)\n",
    "    return '1' + binary + '1'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "def get_divisors(coin):\n",
    "    divisors = list()\n",
    "    for base in range(2, 11):\n",
    "        num = int(coin, base=base)\n",
    "        for p in primes:\n",
    "            if num % p == 0:\n",
    "                divisors.append(p)\n",
    "                break\n",
    "    return divisors"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Case #1:\n",
      "11100100000110011010100000110111 17 7 3 19 5 3 43 83 3\n",
      "11111010101000000111000101110001 3 2 5 2 7 2 3 2 11\n",
      "10111111110111110100111000011011 3 2 5 2 7 2 3 2 11\n",
      "10111000110011101000110011000001 3 7 3 3 5 3 3 617 3\n",
      "10110101010100110010101000011001 29 37 3 7 5 3 733 103 3\n",
      "11010110000011100100111000001111 3 2 5 2 7 2 3 2 11\n",
      "11111011011101001111101100110011 3 2 5 2 7 2 3 2 11\n",
      "11001000001111111111011111101101 3 2 5 2 7 2 3 2 11\n",
      "10000100011101101001101000100111 13 5 3 23 5 3 5 19 3\n",
      "10110100101000011100111111111011 17 2 563 2 5 2 71 2 7\n",
      "11110111111101010010111111110011 17 2 3 2 61 2 5 2 3\n",
      "11101111011000001001011011100101 3 2 3 2 7 2 3 2 3\n",
      "11100111011001001011011100001011 3 2 3 2 7 2 3 2 3\n",
      "10100100011001110100010111011001 769 2 61 2 19 2 23 2 71\n",
      "11000010111100011110000101101111 3 2 3 2 7 2 3 2 3\n",
      "11111000111100010001000010011011 3 2 5 2 7 2 3 2 11\n",
      "11010111100001111000110110011001 31 2 3 2 13 2 5 2 3\n",
      "10100110001100110011000100010011 3 2 5 2 7 2 3 2 11\n",
      "11000001110011101101011010010111 29 2 3 2 13 2 23 2 3\n",
      "10010110111000001101001100110011 3 2 5 2 7 2 3 2 11\n",
      "10100000011111110010001111010111 3 2 3 2 7 2 3 2 3\n",
      "10001010100110011100011001001011 3 59 3 3 5 3 3 11 3\n",
      "11010111011111100000101011011011 3 2 5 2 5 2 3 2 11\n",
      "10110100011010100111010110001111 3 2 3 2 7 2 3 2 3\n",
      "11001111111011011111110101001001 5 2 19 2 13 2 23 2 7\n",
      "10110000000010011010110100000001 61 23 29 17 53 11 13 13 31\n",
      "10000100011001000100001100000101 13 2 37 2 5 2 5 2 43\n",
      "11010110000110010100111110001101 3 17 89 3 17 293 3 7 29\n",
      "10011001001111110100011110001101 19 2 3 2 11 2 149 2 3\n",
      "11111010101111110101110111000001 7 5 3 31 43 3 5 7 3\n",
      "10011011101010110100110001010111 3 2 3 2 7 2 3 2 3\n",
      "10100100101011001001010101101101 3 2 5 2 7 2 3 2 11\n",
      "11111011001111100111011011011111 3 2 3 2 7 2 3 2 3\n",
      "11011101101101011101100001010001 3 2 3 2 11 2 3 2 3\n",
      "10110100000011010011011010110011 3 2 5 2 7 2 3 2 11\n",
      "11001111011001011010000011000001 887 5 3 11 5 3 5 13 3\n",
      "11110011111100111100110011101001 7 13 3 31 23 3 7 7 3\n",
      "11011111111101000000101110110101 13 2 53 2 5 2 71 2 181\n",
      "11110000000100001111101000100111 5 7 3 103 5 3 181 131 3\n",
      "11100111101001010111100110111111 3 2 5 2 7 2 3 2 11\n",
      "10110011000110100010011001110101 3 2 5 2 7 2 3 2 11\n",
      "11110111101100000010011110100101 3 2 3 2 7 2 3 2 3\n",
      "10010110100000000100100101100011 3 2 3 2 7 2 3 2 3\n",
      "11110000111011011000110011110111 3 2 5 2 5 2 3 2 7\n",
      "10010110110101011111111100100011 7 2 23 2 5 2 17 2 41\n",
      "10011110101000110011001000100011 11 5 3 521 5 3 5 5 3\n",
      "11001001010010101111111010010101 3 2 3 2 7 2 3 2 3\n",
      "10011111101111110011101000110001 29 2 19 2 5 2 13 2 7\n",
      "10001101101110100110001010010001 3 13 3 3 5 3 3 7 3\n",
      "11001011010100101000011001010001 5 2 17 2 37 2 5 2 101\n",
      "10010111011011010100001010101001 3 2 5 2 7 2 3 2 11\n",
      "10100011110110111100111101111001 5 7 3 79 23 3 7 37 3\n",
      "11001111011010010101111011100011 3 2 5 2 5 2 3 2 11\n",
      "10010111011011101110111100001101 3 2 5 2 5 2 3 2 11\n",
      "11110100011110010100100110000001 3 5 3 3 5 3 3 11 3\n",
      "11100101011100110110111001101011 3 2 5 2 5 2 3 2 11\n",
      "10010011100001010101101111110101 7 2 3 2 43 2 5 2 3\n",
      "11000111010000101100101011111001 761 5 79 23 743 109 5 101 401\n",
      "11101100001101001101110110101001 3 2 3 2 7 2 3 2 3\n",
      "10000010011101000110001010011101 3 2 5 2 7 2 3 2 11\n",
      "11111100001000001000001110101111 5 2 17 2 37 2 5 2 13\n",
      "10001001011101111111101011001101 3 2 5 2 5 2 3 2 11\n",
      "10111111000100011110011110011011 3 2 5 2 5 2 3 2 7\n",
      "10010100011010101110111011101111 13 2 43 2 5 2 17 2 73\n",
      "11100010010001011101011010001011 3 2 5 2 7 2 3 2 11\n",
      "10011001010101110010110001011011 3 47 37 3 17 5 3 19 269\n",
      "10001101000101110000111011011111 11 2 3 2 547 2 11 2 3\n",
      "11110100010011101110111111011011 3 2 5 2 7 2 3 2 11\n",
      "11101101011110011110110100001011 3 2 5 2 5 2 3 2 11\n",
      "10000001101010111111110110010101 3 2 3 2 7 2 3 2 3\n",
      "11010011100001100110000111101111 3 2 3 2 7 2 3 2 3\n",
      "11001001111110010110100100100111 3 2 3 2 7 2 3 2 3\n",
      "11010110111111010101010101100101 19 2 41 2 5 2 31 2 7\n",
      "11001010001110010101011101100001 11 2 7 2 41 2 113 2 89\n",
      "10111100000011011011010111100011 3 2 3 2 7 2 3 2 3\n",
      "10111011000000010001000000100001 3 2 5 2 5 2 3 2 11\n",
      "10111010101010001101001011011101 5 2 3 2 59 2 17 2 3\n",
      "11001100110010010010110101100011 3 2 5 2 7 2 3 2 11\n",
      "10101101000110011101010010001011 3 2 5 2 7 2 3 2 11\n",
      "10000100000100110100111111111111 5 2 3 2 37 2 5 2 3\n",
      "10011011010111101011100000010001 3 2 5 2 7 2 3 2 11\n",
      "10010011111110001000011001001101 3 2 5 2 7 2 3 2 11\n",
      "10011011010000110111100110111001 3 2 3 2 7 2 3 2 3\n",
      "11101011001100111101001001111101 3 2 5 2 5 2 3 2 7\n",
      "11000010100100100101111011010011 3 2 5 2 7 2 3 2 7\n",
      "10010010110010111010101000100011 7 5 3 7 5 3 5 7 3\n",
      "10011001101000010101101101101111 3 2 3 2 7 2 3 2 3\n",
      "11011110000001111101101000100001 3 2 5 2 7 2 3 2 11\n",
      "10001000000101110111100111100101 79 2 7 2 11 2 811 2 23\n",
      "10011001011011011100111001011111 439 2 349 2 5 2 5 2 43\n",
      "11001111011101101100001010000001 3 2 5 2 7 2 3 2 11\n",
      "10001101001001100000000001100111 3 2 3 2 7 2 3 2 3\n",
      "10011011101101011100101000000101 3 2 5 2 7 2 3 2 11\n",
      "10100001110100101011000100011001 3 2 5 2 7 2 3 2 11\n",
      "11110110100000011010110101111001 3 2 3 2 7 2 3 2 3\n",
      "11000010001011110100010010000111 3 2 5 2 7 2 3 2 11\n",
      "10111100000001101101101110110101 3 2 3 2 7 2 3 2 3\n",
      "11110111100100101100100001101101 3 2 3 2 7 2 3 2 3\n",
      "11000110100110000001111010010111 3 2 5 2 7 2 3 2 11\n",
      "11101111101000011110011111010111 3 2 5 2 7 2 3 2 11\n",
      "10011000110101011011100111011001 109 2 3 2 17 2 37 2 3\n",
      "11000111110101110011111111011111 5 2 3 2 11 2 5 2 3\n",
      "10010111101110101101011011100101 3 2 5 2 5 2 3 2 11\n",
      "11000100000100101100110100110111 3 17 3 3 5 3 3 67 3\n",
      "11110110111101001000100010001111 7 2 3 2 43 2 73 2 3\n",
      "11000111000100100001001111000101 41 2 7 2 11 2 7 2 59\n",
      "10101101110010011001001110010001 3 2 5 2 7 2 3 2 7\n",
      "11100111101100011000101001010001 3 2 5 2 7 2 3 2 11\n",
      "10110010110010101101101110010101 17 2 3 2 109 2 173 2 3\n",
      "11101000111011001010011110010011 7 2 3 2 13 2 463 2 3\n",
      "11110111101011101010101010000001 3 2 3 2 37 2 3 2 3\n",
      "11000011111100100010110001100001 7 5 3 31 5 3 5 7 3\n",
      "11011111111101101101001011101111 3 2 3 2 7 2 3 2 3\n",
      "11111000101001100111000011111001 5 2 3 2 37 2 5 2 3\n",
      "10100110010001010111010010110001 3 5 3 3 5 3 3 7 3\n",
      "10100110101011001111100101010101 3 2 3 2 7 2 3 2 3\n",
      "11101000001100110001110011111101 3 2 3 2 7 2 3 2 3\n",
      "11010000100101000010111011001001 3 2 5 2 7 2 3 2 11\n",
      "10010100001101100011101001110011 3 2 5 2 7 2 3 2 11\n",
      "11011100010111101101111011000011 7 2 11 2 5 2 601 2 7\n",
      "10010010101110010001101100101001 3 7 3 3 5 3 3 7 3\n",
      "11100100011100111001100110100001 3 2 5 2 7 2 3 2 11\n",
      "10001001001010101110011100000011 7 2 11 2 19 2 7 2 43\n",
      "10011101111100001101101000101101 3 2 3 2 7 2 3 2 3\n",
      "10100111010011101001011010000111 5 19 7 47 47 5 23 31 29\n",
      "11100010110010000101011000111101 3 2 5 2 7 2 3 2 11\n",
      "11000011111010010111011101110011 13 2 11 2 5 2 5 2 13\n",
      "11100100110001110001000000001111 127 2 13 2 17 2 7 2 23\n",
      "10010100010010011110001000100111 3 2 5 2 7 2 3 2 11\n",
      "11110100101101001011011100010101 11 2 3 2 41 2 71 2 3\n",
      "11111001011011111101000100101011 3 2 5 2 5 2 3 2 11\n",
      "11011000100111011111001011100111 3 2 5 2 5 2 3 2 11\n",
      "11010001100111111001000001111001 3 5 97 3 487 71 3 13 41\n",
      "11011000100101110101100000011101 947 2 11 2 109 2 5 2 463\n",
      "10111000111100011000100110010101 3 2 5 2 7 2 3 2 11\n",
      "11010001011011101000100010100011 3 409 3 3 5 3 3 53 3\n",
      "10000100100000101101001101100001 3 2 3 2 7 2 3 2 3\n",
      "10010110011000110011110101111001 67 2 3 2 23 2 461 2 3\n",
      "10101011010111010111110110100001 5 37 7 233 11 5 19 11 739\n",
      "11011001001000001101001010010011 3 2 5 2 7 2 3 2 11\n",
      "11011110101011011011001100100001 31 2 3 2 17 2 61 2 3\n",
      "11010110101110101101101100110101 3 2 5 2 5 2 3 2 11\n",
      "11111011101001101010000010110001 7 5 5 17 11 41 5 5 71\n",
      "11010001011010010111101001100101 3 347 19 3 181 13 3 7 41\n",
      "10111000101010001000110000111101 7 13 3 31 5 3 73 5 3\n",
      "10011001010111010010101110001111 3 2 3 2 7 2 3 2 3\n",
      "11111000100110101000101010100101 3 2 7 2 17 2 3 2 239\n",
      "10011111001111100100010110011111 31 2 11 2 5 2 31 2 7\n",
      "10010110010111001101001011001011 5 367 23 7 929 5 853 71 67\n",
      "10010100110110110100100110110101 3 7 13 3 31 43 3 13 7\n",
      "11100101111110010000100011111111 3 2 5 2 5 2 3 2 11\n",
      "11101001101010100101000100001111 281 2 13 2 19 2 23 2 43\n",
      "10001111000011100100100001000111 3 2 5 2 7 2 3 2 11\n",
      "10110011001000001110000000100101 7 2 3 2 11 2 5 2 3\n",
      "10000110010111011010010011011001 13 2 19 2 53 2 5 2 29\n",
      "10100101100110001010010100011001 3 2 5 2 7 2 3 2 11\n",
      "11000101101011111000010111011111 7 2 11 2 5 2 5 2 7\n",
      "11101100001111111101100001110011 3 2 5 2 5 2 3 2 11\n",
      "11001110000111111110101010110101 179 2 37 2 5 2 233 2 13\n",
      "11110100100110111001110000111111 3 2 5 2 5 2 3 2 11\n",
      "10010000010010000110111001010101 3 5 13 3 31 31 3 73 7\n",
      "10010000101111101010111101010101 3 2 3 2 7 2 3 2 3\n",
      "10100110011110001101001110011101 3 2 3 2 7 2 3 2 3\n",
      "11111011011000010001100110101101 3 2 3 2 7 2 3 2 3\n",
      "11100011001101101111010101101011 3 2 5 2 5 2 3 2 11\n",
      "11011101110101000010101110010011 11 2 3 2 23 2 83 2 3\n",
      "10000110111100001011101010000111 5 2 17 2 37 2 5 2 101\n",
      "10100101000110000001000100011011 7 2 3 2 11 2 73 2 3\n",
      "10101101011000001011101010000111 5 2 7 2 19 2 5 2 17\n",
      "10110111000111111111011001001101 3 557 3 3 307 3 3 173 3\n",
      "10100101100110000100101110110101 3 2 5 2 7 2 3 2 11\n",
      "10100101101001011100010101111111 3 7 13 3 13 11 3 73 7\n",
      "10001001110011001100100101010001 13 2 241 2 13 2 7 2 103\n",
      "11110010000010100110000110100011 59 2 157 2 151 2 5 2 839\n",
      "11100101110010010010001000111101 3 2 5 2 7 2 3 2 11\n",
      "11101110110111011000011011100101 3 2 5 2 5 2 3 2 11\n",
      "11001101001011101111101000111001 3 127 11 3 233 13 3 19 229\n",
      "10100111000001010000101001100111 3 2 5 2 7 2 3 2 7\n",
      "11110000101100001011001001100001 107 2 11 2 127 2 7 2 7\n",
      "11100011000100000000011000101101 3 2 3 2 7 2 3 2 3\n",
      "10001001011010100101110010111111 19 2 3 2 19 2 29 2 3\n",
      "10110001010011110011111110100111 3 2 5 2 5 2 3 2 11\n",
      "11001010000100111001000100100111 3 2 5 2 7 2 3 2 11\n",
      "11011000100110000000001100011111 3 2 5 2 7 2 3 2 11\n",
      "10001101100000101000000010111101 3 7 11 3 17 43 3 73 7\n",
      "11100110011011111101000101101101 47 2 7 2 5 2 5 2 7\n",
      "10100001001010011110011010110001 3 5 3 3 5 3 3 73 3\n",
      "10100101010001000111010010000001 11 2 3 2 13 2 19 2 3\n",
      "10101100000001111001010101101011 3 2 5 2 7 2 3 2 11\n",
      "10101110101110110000101011011001 3 2 3 2 31 2 3 2 3\n",
      "10101111100010011101000010101111 5 2 3 2 43 2 73 2 3\n",
      "11101011000011010011111010011011 3 7 11 3 29 5 3 353 7\n",
      "11101011010111110000010111111111 5 2 17 2 37 2 5 2 13\n",
      "10101011110001100000110001010111 3 2 5 2 7 2 3 2 11\n",
      "11010011000111101110111011010011 3 2 5 2 5 2 3 2 11\n",
      "10011010010001110001101111101101 3 2 3 2 7 2 3 2 3\n",
      "11100010010000000010010100001111 3 2 3 2 7 2 3 2 3\n",
      "10101110001111111011001000100101 13 2 3 2 13 2 5 2 3\n",
      "10011101101101101011101110011111 5 2 47 2 13 2 107 2 7\n",
      "11011010100011000101100100110001 7 13 3 13 5 3 53 7 3\n",
      "11011011100110110000000100001101 7 5 3 23 5 3 5 7 3\n",
      "10011000111011110110011101100001 3 2 3 2 7 2 3 2 3\n",
      "11011011100011110111111101011001 17 2 13 2 769 2 59 2 191\n",
      "10100111010011001100000000101111 7 13 3 17 5 3 73 7 3\n",
      "10110000110000100101010111100111 149 2 13 2 13 2 31 2 719\n",
      "10011000100100100000100000001111 3 7 13 3 31 43 3 73 7\n",
      "11000001111000001000110101111011 3 2 5 2 7 2 3 2 11\n",
      "10001101000001001000111000111101 3 2 5 2 7 2 3 2 11\n",
      "11011010001011000100001100101001 5 2 17 2 19 2 5 2 7\n",
      "11000101110111101001101000101111 5 19 11 37 113 5 997 13 13\n",
      "10010100011111010010111101101111 331 2 19 2 5 2 67 2 17\n",
      "10111111000110100010000111110011 17 2 3 2 53 2 5 2 3\n",
      "11100000011101101110100000110101 3 2 5 2 7 2 3 2 11\n",
      "11011000001000011011011001110011 3 2 5 2 7 2 3 2 11\n",
      "10101111111010111001101000100001 3 2 3 2 71 2 3 2 3\n",
      "10000011010000100000000100100111 3 2 5 2 5 2 3 2 11\n",
      "10111001110111111000010111010011 11 2 11 2 5 2 31 2 41\n",
      "10100011011110000000011101101101 3 2 5 2 7 2 3 2 11\n",
      "10011001101111111001000010010001 3 2 5 2 7 2 3 2 11\n",
      "11011011000100100011000110000011 3 2 5 2 7 2 3 2 11\n",
      "11100000010011011110010101111101 5 2 3 2 149 2 11 2 3\n",
      "11011011010111001000001110110011 3 2 3 2 7 2 3 2 3\n",
      "10110000000100001101100011100011 5 19 79 109 83 5 43 29 13\n",
      "11100011111011101000011001111101 241 2 43 2 5 2 5 2 13\n",
      "11001011110011100011000011101011 283 2 3 2 19 2 11 2 3\n",
      "11101111110100000000000010100101 3 2 5 2 7 2 3 2 11\n",
      "11100001101101100100001100111001 3 2 5 2 7 2 3 2 11\n",
      "11001100111110000011110001001111 3 2 3 2 7 2 3 2 3\n",
      "11111110110101000000010101011101 3 2 3 2 31 2 3 2 3\n",
      "10111101000010101011100010101111 3 2 3 2 17 2 3 2 3\n",
      "11001001001010110111000110110001 3 2 5 2 7 2 3 2 11\n",
      "10010111100001110011011010111001 3 2 3 2 7 2 3 2 3\n",
      "10010111000101001010110010111111 3 2 3 2 7 2 3 2 3\n",
      "11001001111110110100100011001101 3 2 3 2 7 2 3 2 3\n",
      "11101000000010100100110011010101 3 2 5 2 7 2 3 2 11\n",
      "10001101000010001100000100111111 3 2 5 2 7 2 3 2 11\n",
      "11000111011000111110101111110101 7 5 3 23 43 3 5 7 3\n",
      "11011001101110011001000111010011 13 2 3 2 89 2 13 2 3\n",
      "10011110101001110000000100000111 3 2 5 2 7 2 3 2 11\n",
      "10101111111000101111110111010101 3 2 5 2 7 2 3 2 11\n",
      "11101000111001101011111100000111 3 67 31 3 11 5 3 7 929\n",
      "10000110110111001000111001011111 3 2 3 2 7 2 3 2 3\n",
      "10101011101101010110001101001011 499 2 3 2 11 2 67 2 3\n",
      "10010100110011111001101000100101 3 2 5 2 7 2 3 2 11\n",
      "10101101000101001111000010010101 3 5 3 3 5 3 3 31 3\n",
      "11001110001100000100000111110001 5 2 17 2 37 2 5 2 101\n",
      "10101000011010011100110001110101 3 2 5 2 7 2 3 2 11\n",
      "10101000100101100001000101111001 3 2 5 2 7 2 3 2 11\n",
      "11100010010111000011011110111111 3 2 5 2 5 2 3 2 11\n",
      "10110011110100000000101110100011 3 19 3 3 5 3 3 433 3\n",
      "11000010011111010101100000100011 17 19 3 131 5 3 19 151 3\n",
      "11000010000010100110110001100001 127 2 3 2 11 2 5 2 3\n",
      "10100011111100100111100011010101 3 2 3 2 7 2 3 2 3\n",
      "10101010010111110011101010010011 5 2 3 2 19 2 11 2 3\n",
      "10000000001000100001110111011001 3 2 3 2 7 2 3 2 3\n",
      "11011010110010100100101111101001 7 2 3 2 43 2 5 2 3\n",
      "11100011011100010000001110001001 3 2 5 2 7 2 3 2 11\n",
      "10011001011100101110110000011001 3 2 5 2 7 2 3 2 11\n",
      "10010111110001111111110010100111 29 229 3 29 109 3 7 47 3\n",
      "10111111100101000101010000101111 5 2 3 2 23 2 5 2 3\n",
      "10000001010000111101001011100011 3 2 5 2 7 2 3 2 11\n",
      "11111011001110000100010011000101 23 2 103 2 13 2 53 2 19\n",
      "11010011011011110010001100100111 3 2 3 2 7 2 3 2 3\n",
      "11010010110010011100100110000111 3 2 5 2 7 2 3 2 11\n",
      "10011110110010110000110010001001 3 5 3 3 5 3 3 7 3\n",
      "10010101001011001000111111110011 3 2 3 2 7 2 3 2 3\n",
      "10110101011110101010111101111101 3 2 5 2 7 2 3 2 11\n",
      "11001010100101000111010110111101 7 2 3 2 11 2 73 2 3\n",
      "10001011011101010010100001000011 3 2 5 2 7 2 3 2 11\n",
      "10010001100011010110111010000001 3 2 5 2 7 2 3 2 11\n",
      "10101001010100000010001110010001 3 2 3 2 7 2 3 2 3\n",
      "11100010110010101000000001000101 5 2 3 2 43 2 73 2 3\n",
      "10110111001000010110011001100001 5 5 3 641 5 3 5 29 3\n",
      "10110111111111110001001100101111 3 2 5 2 7 2 3 2 11\n",
      "11011001111000100111111000000111 3 2 3 2 7 2 3 2 3\n",
      "10110010001010011111011001010001 3 2 5 2 7 2 3 2 7\n",
      "10010100000111001111001011001011 3 2 5 2 7 2 3 2 11\n",
      "10010100111001111000011100010101 5 2 17 2 37 2 5 2 101\n",
      "10101011100100001111000010111111 7 2 3 2 43 2 5 2 3\n",
      "10001101001111100110111101100111 3 2 5 2 5 2 3 2 7\n",
      "10100100101101010001111000101101 3 2 5 2 7 2 3 2 11\n",
      "11110111111001000111000010101111 3 2 5 2 5 2 3 2 11\n",
      "11011111011111111100110000100101 3 5 3 3 31 3 3 7 3\n",
      "11001011011001101011011000010111 3 2 3 2 7 2 3 2 3\n",
      "10111000000010010001011100101111 31 11 3 11 5 3 11 11 3\n",
      "10101010011011011100101111000011 599 2 3 2 479 2 263 2 3\n",
      "10000111001011000100010011101111 3 2 5 2 7 2 3 2 11\n",
      "11000000001110111101101100111101 3 2 3 2 7 2 3 2 3\n",
      "11010101010100100101010111000011 5 2 17 2 37 2 5 2 101\n",
      "11011100000110100000101010001111 3 13 3 3 5 3 3 7 3\n",
      "10110001000010100000110110010001 3 2 3 2 7 2 3 2 3\n",
      "10110100100101011101101010111101 227 41 7 13 521 13 37 179 19\n",
      "11100010011100110010010110011111 3 2 3 2 7 2 3 2 3\n",
      "11101101110101100111010011000001 5 2 3 2 11 2 53 2 3\n",
      "11100110111010110101100010110001 5 2 3 2 37 2 5 2 3\n",
      "11000001010111110110000001010001 3 2 7 2 37 2 3 2 7\n",
      "11111101011101001001101111101011 3 2 5 2 7 2 3 2 11\n",
      "10001110111011001101010011110111 3 2 5 2 5 2 3 2 11\n",
      "11001110111110000000100101010001 7 11 3 31 5 3 73 7 3\n",
      "11100000111001001011010011101111 61 2 3 2 227 2 43 2 3\n",
      "11111111111011000100101110010101 5 13 3 23 17 3 7 7 3\n",
      "11100100010100000001011000011001 5 2 3 2 37 2 5 2 3\n",
      "11101100111010010000110100110111 3 2 3 2 7 2 3 2 3\n",
      "11101110110010010000100111000101 3 2 5 2 7 2 3 2 11\n",
      "10110000100110010100001110111101 3 2 5 2 7 2 3 2 11\n",
      "10101001101000100100000000001111 5 2 3 2 37 2 5 2 3\n",
      "11011100100010111010101111101111 7 13 3 31 43 3 7 5 3\n",
      "11100101011111110101100101110001 3 2 149 2 5 2 3 2 181\n",
      "11011010100000000001111110100101 7 5 3 31 5 3 5 7 3\n",
      "10100000101011100011010100101011 5 13 3 31 5 3 73 5 3\n",
      "10110010101111111101000111010101 31 2 11 2 5 2 5 2 7\n",
      "10011000000000001100110101101111 3 2 5 2 7 2 3 2 11\n",
      "11110000001100000100100000011011 3 2 3 2 7 2 3 2 3\n",
      "11100100000111100011011100001011 3 2 5 2 7 2 3 2 11\n",
      "10100011110001011101010000100101 3 13 3 3 5 3 3 7 3\n",
      "11110101010101011000111101110101 5 2 17 2 5 2 5 2 7\n",
      "10001001001100011100000001000011 5 7 617 43 11 5 313 13 7\n",
      "11100100111110011010111001000101 3 2 3 2 7 2 3 2 3\n",
      "10001111000001101100111010001011 281 2 7 2 29 2 109 2 103\n",
      "10000101010110010010110001110111 5 2 17 2 37 2 5 2 17\n",
      "11011100111110110001001111011101 3 53 3 3 13 3 3 11 3\n",
      "10110110011110011101000110001011 3 2 3 2 7 2 3 2 3\n",
      "10010001111011101110001010011001 3 5 13 3 31 43 3 73 7\n",
      "10101101001111011100111101101001 3 2 5 2 5 2 3 2 11\n",
      "10111110110000110001111111000001 3 2 3 2 7 2 3 2 3\n",
      "10110110010000101001111101000011 3 2 5 2 7 2 3 2 11\n",
      "10110110111011111000001111001001 3 7 13 3 11 31 3 73 7\n",
      "11111000001000100110110000100111 3 619 3 3 5 3 3 197 3\n",
      "10000111010111000110100001010101 83 5 3 41 5 3 5 5 3\n",
      "10000100111101110101101100010011 3 5 11 3 31 11 3 73 7\n",
      "11000100111110001010101100010001 7 5 3 11 5 3 5 7 3\n",
      "11110001011110011010111111000101 179 2 7 2 5 2 37 2 233\n",
      "10110101101101101111000010010011 3 2 3 2 7 2 3 2 3\n",
      "11001101111111100111001011111111 3 2 3 2 7 2 3 2 3\n",
      "11101110111010011011110100011001 5 2 7 2 5 2 113 2 23\n",
      "10010010011011101110100101101101 7 2 3 2 23 2 73 2 3\n",
      "11101011100001111000111110101101 11 2 7 2 5 2 43 2 19\n",
      "11010000000001011000010010000001 3 61 3 3 59 3 3 7 3\n",
      "10111110001001000110000010010101 3 2 5 2 7 2 3 2 11\n",
      "11000110100111000111111000101011 7 2 3 2 11 2 73 2 3\n",
      "10101001100011110110100111010101 3 2 3 2 7 2 3 2 3\n",
      "11101001110100001101000100011001 3 7 3 3 5 3 3 73 3\n",
      "11101011111001010001010010100111 3 2 3 2 7 2 3 2 3\n",
      "11010100101110000110111100111111 3 2 5 2 5 2 3 2 11\n",
      "11000011100110101011111110101111 5 7 3 11 43 3 7 5 3\n",
      "11110101000001110101100000000101 3 2 17 2 11 2 3 2 101\n",
      "11010010100110011000110010110101 3 2 5 2 7 2 3 2 11\n",
      "11010010100100011101101100011111 5 2 3 2 43 2 73 2 3\n",
      "11101111000101010010001101001111 17 2 3 2 827 2 29 2 3\n",
      "11100100100110011010111000010101 3 2 5 2 7 2 3 2 7\n",
      "10011010011011001101100011010001 3 2 5 2 7 2 3 2 11\n",
      "10001000011011010110000101101001 3 2 5 2 7 2 3 2 11\n",
      "11001000011010000110001111000101 3 2 5 2 7 2 3 2 11\n",
      "10010001110011111111010110110111 3 11 3 3 29 3 3 7 3\n",
      "10010000000111100001011010000011 3 2 3 2 7 2 3 2 3\n",
      "10111000001110110101101111011101 3 2 5 2 5 2 3 2 11\n",
      "11000111110101101001101011100111 3 2 5 2 5 2 3 2 11\n",
      "10110001010110000110000111111111 29 2 3 2 293 2 11 2 3\n",
      "10100111101010000001001101000101 3 2 5 2 7 2 3 2 11\n",
      "10000101101100011001110110101001 3 2 5 2 7 2 3 2 7\n",
      "10101111100011000000100000111011 7 5 3 31 5 3 5 5 3\n",
      "10001111110001101000010101011101 3 7 13 3 31 43 3 73 7\n",
      "11001100101001111000000001110101 41 5 3 11 5 3 5 953 3\n",
      "10001011011000001111110100101111 5 2 3 2 37 2 5 2 3\n",
      "10001000110010011001010111100001 3 2 5 2 7 2 3 2 11\n",
      "10110010110110000111100101001001 3 2 5 2 7 2 3 2 11\n",
      "11101010011010010010111001001111 7 2 3 2 17 2 5 2 3\n",
      "11010101000100001000010101111001 3 2 13 2 31 2 3 2 7\n",
      "11111101101111100101011000001011 3 2 5 2 5 2 3 2 11\n",
      "11001000010000110010110010000101 3 2 3 2 7 2 3 2 3\n",
      "11101001011011101100111111010001 3 2 5 2 5 2 3 2 11\n",
      "11010111100101110100011000110011 11 2 3 2 23 2 5 2 3\n",
      "11100101000110100000111010000101 3 2 5 2 7 2 3 2 11\n",
      "10110010001011010111010000011011 3 2 5 2 7 2 3 2 11\n",
      "10000000110111001110011001000011 3 2 5 2 7 2 3 2 11\n",
      "11000000110000011010011001011011 3 2 5 2 7 2 3 2 11\n",
      "10011010011011111110101001111001 5 2 17 2 5 2 5 2 101\n",
      "11100100011001101110010100100011 3 2 5 2 7 2 3 2 11\n",
      "11111001101111101000110001111001 5 2 53 2 5 2 11 2 83\n",
      "10000001011011101100001110000011 5 2 17 2 13 2 5 2 13\n",
      "11000000101001111110100000111011 5 2 17 2 37 2 5 2 101\n",
      "11101000011010110010111010101101 3 2 3 2 23 2 3 2 3\n",
      "10011000001010000110010011000101 3 2 3 2 7 2 3 2 3\n",
      "10100001111000111011111110101011 3 2 59 2 5 2 3 2 17\n",
      "11100111111100110111011101100001 3 5 3 3 491 3 3 109 3\n",
      "10000101001000000100010000111111 7 2 3 2 43 2 11 2 3\n",
      "11001001101110000101110100001011 3 2 5 2 7 2 3 2 11\n",
      "10011010110001101001110001111011 13 2 3 2 17 2 23 2 3\n",
      "10100100010010101101011111011101 7 2 3 2 11 2 73 2 3\n",
      "10001000010010011001110011101011 3 5 3 3 5 3 3 7 3\n",
      "10011100011001100000000110110011 3 2 5 2 7 2 3 2 7\n",
      "10101000001011010111010100110101 373 2 79 2 103 2 29 2 29\n",
      "11001001010100111111111110011101 3 11 3 3 79 3 3 19 3\n",
      "10000100110100101100001100010111 5 2 17 2 17 2 5 2 13\n",
      "11011010110110100100100001111101 3 2 3 2 7 2 3 2 3\n",
      "10101011001010011100100010100011 5 7 3 29 5 3 739 11 3\n",
      "10101110100110011001011010101011 3 2 3 2 47 2 3 2 3\n",
      "10101111110001110100110011101111 37 239 3 11 13 3 7 19 3\n",
      "10101010111000110110111010001101 3 2 3 2 11 2 3 2 3\n",
      "11011110101011111000001000110111 3 7 13 3 31 43 3 73 7\n",
      "11011010000100110110100000100111 5 7 3 41 5 3 29 43 3\n",
      "10111010000110000100011110111111 103 2 3 2 29 2 571 2 3\n",
      "10011000010111111110101000100011 3 7 13 3 19 31 3 73 7\n",
      "11001110110001001011011100000011 3 2 5 2 7 2 3 2 11\n",
      "10011010110100001001100010001001 3 5 13 3 31 37 3 73 7\n",
      "11110000101000011000001111010001 3 2 5 2 7 2 3 2 11\n",
      "10011111111000011010111001010111 3 2 5 2 5 2 3 2 11\n",
      "11101100101011000010111000001011 3 2 7 2 337 2 3 2 41\n",
      "10101001101001101100110011001111 257 2 3 2 19 2 23 2 3\n",
      "11110000101101101000101010111011 3 2 3 2 73 2 3 2 3\n",
      "10100100101111010001011101000101 5 2 17 2 37 2 5 2 101\n",
      "10001001111001000100001111100111 3 2 5 2 7 2 3 2 11\n",
      "11100110010101110010110111000001 3 7 293 3 11 5 3 7 7\n",
      "11110110001111010010010011110001 53 2 3 2 71 2 47 2 3\n",
      "10111001001101100010001101100101 3 2 5 2 7 2 3 2 11\n",
      "10001110010100010001110001011011 3 5 3 3 5 3 3 73 3\n",
      "10010111100101001000111001000101 3 653 3 3 5 3 3 593 3\n",
      "11011111011100001101011000001111 3 7 47 3 73 19 3 17 7\n",
      "11100001000001100100101010111011 3 659 3 3 5 3 3 71 3\n",
      "11011000010001101101001011111011 3 2 3 2 7 2 3 2 3\n",
      "10101101000111101001000011111101 3 2 3 2 7 2 3 2 3\n",
      "11000100110010101001010111000001 5 2 29 2 89 2 7 2 13\n",
      "10010010110111101001000000001111 17 5 3 97 5 3 5 11 3\n",
      "11001111101111101100101101000111 7 5 3 503 347 3 5 7 3\n",
      "10110100010010111000010000011011 3 2 5 2 7 2 3 2 11\n",
      "10000111001100001000011010111011 3 5 3 3 5 3 3 19 3\n",
      "11001101010001000111101100000101 13 5 3 691 5 3 5 5 3\n",
      "11110011011000010001001000110101 3 5 3 3 5 3 3 11 3\n",
      "10000011001111010110010000111011 3 2 5 2 7 2 3 2 11\n",
      "10010101001110110001110111110011 3 5 7 3 11 5 3 31 227\n",
      "10001000100001110000001100000101 3 2 5 2 5 2 3 2 7\n",
      "11000001000001101001000001110101 5 2 3 2 19 2 5 2 3\n",
      "11111111110100000011110010100111 3 2 5 2 5 2 3 2 7\n",
      "10101010000100110110011010010011 3 37 3 3 5 3 3 7 3\n",
      "10101101111011111111111011011001 13 2 3 2 17 2 5 2 3\n",
      "11011000010010100000110001110111 19 5 3 67 5 3 5 47 3\n",
      "11010011001001110001101111101001 3 2 3 2 7 2 3 2 3\n",
      "11100100110000111110000100100101 5 19 3 41 5 3 179 197 3\n",
      "11111111100010100000001101100011 3 7 89 3 13 5 3 11 7\n",
      "11001111011010100101101000011101 3 2 3 2 7 2 3 2 3\n",
      "10001001010110111000100010001101 5 2 11 2 11 2 7 2 17\n",
      "11110001010110001000101100110001 7 13 3 31 5 3 17 7 3\n",
      "10101100011010101111110110101111 23 5 3 83 29 3 5 5 3\n",
      "11101111000010110010110011110111 109 2 197 2 5 2 11 2 113\n",
      "10100011110010101110111100100011 3 2 3 2 509 2 3 2 3\n",
      "10111001101000010011011100011001 3 2 5 2 7 2 3 2 11\n",
      "10111010101001001001000010000111 7 2 31 2 23 2 7 2 7\n",
      "10100011011101101001010000100111 3 2 5 2 7 2 3 2 11\n",
      "10000001111111110101101001110001 41 2 3 2 523 2 11 2 3\n",
      "10101111101100100110110111100011 67 2 67 2 5 2 11 2 449\n",
      "10000000000011000111110110110111 31 7 3 11 5 3 31 11 3\n",
      "11011110000000000000100011011001 3 2 3 2 7 2 3 2 3\n",
      "10001010011001010000001000001001 5 2 17 2 5 2 5 2 101\n",
      "11001000100011100000100001101111 101 2 7 2 47 2 7 2 89\n",
      "10000111110000101100010001100011 3 2 5 2 7 2 3 2 11\n",
      "11011010100000001011010100110001 3 2 5 2 7 2 3 2 11\n",
      "11100011010011000010111000010001 3 2 5 2 7 2 3 2 11\n",
      "10011001101001111010011110101101 3 53 7 3 11 5 3 113 17\n",
      "10000111011000001001111100100111 3 2 5 2 7 2 3 2 11\n",
      "10110011111010011010001100111111 79 2 23 2 5 2 5 2 19\n",
      "10110101010100101101010010111011 13 2 3 2 19 2 97 2 3\n",
      "10111111010100111000101110000101 3 2 3 2 7 2 3 2 3\n",
      "10111111111111111111101010111011 13 19 3 89 23 3 53 5 3\n",
      "11111010101001011100111100001101 5 211 19 7 263 5 43 7 241\n",
      "10111010111011010000001011101011 3 2 3 2 37 2 3 2 3\n",
      "10111000011100011101001110110011 3 2 3 2 7 2 3 2 3\n",
      "11100111101101000010110010010001 3 2 5 2 7 2 3 2 7\n",
      "11100000001110101110111001001101 3 367 7 3 11 719 3 179 61\n",
      "11010010111011100111011011000111 3 2 5 2 5 2 3 2 11\n",
      "11011111000000001001010100011101 113 71 3 13 5 3 17 5 3\n",
      "11111110010110000111101000001101 3 2 3 2 7 2 3 2 3\n",
      "10101111010101000000000100101111 167 19 3 769 5 3 11 821 3\n",
      "10100101001100110010000110011001 3 2 5 2 7 2 3 2 11\n",
      "11100110111000100110110101010101 5 2 3 2 17 2 503 2 3\n",
      "11001001110000001100101010010101 3 2 5 2 7 2 3 2 7\n",
      "10000110011010000010010001100101 3 2 3 2 7 2 3 2 3\n",
      "10001010100000000101101010000011 139 5 5 67 11 71 5 5 383\n",
      "10100111111110111001000000010111 3 2 3 2 7 2 3 2 3\n",
      "11101100100110110101011100110001 17 2 3 2 239 2 17 2 3\n",
      "10110100010110111101000100101111 17 2 3 2 149 2 17 2 3\n",
      "10010010111001111101110011000011 3 2 3 2 7 2 3 2 3\n",
      "11101101000010111010110010011011 5 2 3 2 19 2 17 2 3\n",
      "10000101001001101011110001001111 3 2 5 2 7 2 3 2 11\n",
      "10110011011110001001111111111101 3 2 5 2 7 2 3 2 7\n",
      "11101001010100011011111110100001 3 2 3 2 7 2 3 2 3\n",
      "10110110101000101010110011010001 5 2 7 2 37 2 5 2 101\n",
      "11111011100110100001100001101011 19 2 3 2 173 2 5 2 3\n",
      "10001100100010110000110100010111 3 2 5 2 7 2 3 2 7\n",
      "11100101101111100001001101000001 41 2 7 2 11 2 11 2 47\n",
      "10001000111000111011000101010001 3 2 5 2 7 2 3 2 11\n",
      "11100101001011111001000101111011 17 5 11 11 13 107 5 31 997\n",
      "10110101111110001010111101000111 3 2 5 2 5 2 3 2 11\n",
      "11001101110010010000100111101111 3 2 3 2 7 2 3 2 3\n",
      "11111111011010111010000111010111 3 2 5 2 7 2 3 2 11\n",
      "10110011000110101111000101011101 7 2 3 2 17 2 73 2 3\n",
      "10000010101001010100001101011111 11 7 3 29 5 3 571 659 3\n",
      "11001011000101010101100001011101 3 2 251 2 23 2 3 2 29\n",
      "11100011000101011000001111001011 3 2 5 2 7 2 3 2 11\n",
      "10010111011000100000101100101111 241 2 31 2 811 2 5 2 401\n",
      "11100101000101101000010101101101 17 2 109 2 11 2 89 2 17\n"
     ]
    }
   ],
   "source": [
    "with open(file_name, 'r') as input_file:\n",
    "    with open(file_solu, 'w') as output_file:\n",
    "        T = int(input_file.readline())\n",
    "        for case in range(T):\n",
    "            print \"Case #%d:\"%(case + 1)\n",
    "            output_file.write(\"Case #%d:\\n\"%(case + 1))\n",
    "            N, J = [int(x) for x in input_file.readline().split(' ')]\n",
    "            \n",
    "            jamcoins = {'1000000000000001': [3, 2, 5, 2, 7, 2, 3, 2, 7]}\n",
    "            previous_samples = [0, ]\n",
    "            \n",
    "            while len(jamcoins) < J + 1:\n",
    "                coin = next_coin(previous_samples, N-2)\n",
    "                divisors = get_divisors(coin)\n",
    "                if len(divisors) == 9:\n",
    "                    jamcoins[coin] = divisors\n",
    "                    print coin + ' ' + ' '.join([str(d) for d in divisors])\n",
    "                    output_file.write(coin + ' ' + ' '.join([str(d) for d in divisors]) + '\\n')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 2",
   "language": "python",
   "name": "python2"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 2
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython2",
   "version": "2.7.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 0
}
