

def debug(msg):
	if DEBUG:
		print msg


def has_completed(str):
	for each in str:
		if each == '-':
			return False
	return True


def get_toggle_flag(flag):
	if flag == '+':
		return '-'
	else:
		return '+'


def find_first_position(str, current_position, flag):
	i = current_position
	str_temp = list(str)
	while i > 0 and str_temp[i] == flag:
		i -= 1
	return i


def can_maneuver(str, current_position, flag):
	reverted_flag = get_toggle_flag(flag)
	new_str = list(str)
	for i in range(0, current_position+1):
		if str[i] != reverted_flag:
			return [False, str]
		else:
			new_str[i] = flag
	new_str = ''.join(new_str)
	return [True, new_str]


def run(str):
	count = 0
	flag = '+'
	current_position = len(str)-1
	while not has_completed(str):
		debug('Flag: ('+flag+')')
		debug(current_position)
		# Try to can_maneuver
		[maneuver_result, str] = can_maneuver(str, current_position, flag)
		if maneuver_result:
			debug("Can maneuver")
			temp = list(str)
			current_position += 1
			while current_position < len(str) and temp[current_position] == flag:
				current_position += 1
			current_position -= 1
			count += 1
			flag = get_toggle_flag(flag)
		else:
			debug("Cannot maneuver!")
			# Get next position
			first_position = find_first_position(str, current_position, flag)
			if first_position == current_position:
				debug("Toggle flag")
				# not found
				flag = get_toggle_flag(flag)
			else:
				debug("Find first (<)")
				# found
				current_position = first_position
				debug(current_position)
		debug(str)
		debug("=========")
	return count

dataset = ['-','-+','+-','+++','--+-','++-+----+-+-++-+-++-+++-+---++-++++-+-++++-++-++--++---++--++-+-+++---++-+++--++--+--+-----+--++++++','-------+-----+-+-+++-----+++-++-++----+++','-+---+---+++-++-+---+++--++-++++------+','-++','++-','++++--++-+++-+-++-+-+-+--+--+-++++++++-----++--++---+--+--+++++---+++++-+-+---+-+--+++++--+++-+--++-','+-+---+-----+---+-+-++----+-++--+++---++++--+++-+--++---+-+-+++++----+-+-++-+++-++++-+++--++-+----++','--------------------------------------------------','+++++---++++-+--+++-+++++++-+++--++-++-++--++++-++--+++++-++-+++-++-++--+-+++-++-+-+------++++-+--+-','---+-++---+++-+--++---+-+++++-+--+-+---++++-+-+-+--+-+++++-+---+-+-','-+-+--++++-++---+-+++-++--++-+----+--------------+--+-+++++--+-+--+-+--++-------+++++---++---+-+++++','+++--++-++----++++---+--++-++-+-++++++-++-+-+++-+--+++-----+--++--++-++++--++-++--++--+-+-++--+++-+-','+-+-+-+++-++---+-+-+-++--++--+++-----++--+----+++++--+-+-++-+---++-+--++++-+--+-----++++-++---+--++-','+---+-+-+++++++++--+--++++++++-++-+++---+----+-++-+--+-+-+-----+','-+--+--++--++---+-+-++-+--++--+-+-----+---++-+----+-+--++++-----+-++-+++++----+--++++-+--+-++--+++++','---+---+---+--+---++-++--++-+--+-----+-+-+-----+++---++++-++--+++++--++----++-+++-+-++++++--+-+-++--','-+-+-+-+-+','+-+-++++------+-++-++++-++--+-+++-+---++-+---++-+--+-+--++--+-+-++-++--++-++--++--+++------+--+++-++','++-++++----+---++-+-+-++--+-++-+++--+--+-+++--+-+++++--+-+++-+-+--++++-+-+----++-++---+---+++-+-+-+-','--+--++++++--+-+--+-+----+---+--++-++++--++-----+-+-++-++++-+++-----+---++-++-+----+---++----+++-++-','--++-++--++-+--+++--+----+++++++-+-+--+++++---+++-+--++-+-+-+-+-++-+---+---++--+-++-++-+-++++++-+--+','++-+--++++--++-+++--+++--++++-+--++-++++++--++++--+---+++++-+---+--+-+++--++++-++-++++-+++-++--+++-+','+++-++++--+++++++----+++++++-+--+------+---+--+------++--+-+--+-++-++-++-+---+-++----++--+++-++--++-','--++++---','++-+--++++-+--+++---------+----++--+-+--+-+--+-----+++--++---+-+-+---+---++---+--++-+-++++---+-+--++','-+++-++-++-+-+++-++++-++-+++++++-+-+-+++-+---+--+++-+++--++--+-+++-+++---+++-++++--+++-+++-++--++-++','++---+--++--++++----+++++------+-+++-++-+--+++-+++-++--+-+-++++-++--+--++---+--++-+-++--++-+---++++-','--+----+----++----++-+-+++--+--++--++--+--+----++-+++++-+--+-+----+++-+++++---+++---++--+-+--++++-+-','-+-++-+--+-+---++-++-+++-+--+----+++-+++-++---+---+--+-+++-++-++--+++-+++-+----++-+-+++-++-+-+--+-++','++++++++++++++++++++++++++++++++++++++++++++++++++','--++++-++++-+-++-++------+----++-+-+--+--+-+---+-++-+++-+++---++--+-++++++++-++---+-+++-+--++++++-++','+-+-+-+---+-+-+------++-+++-++--+++-+------+-++----+--++-+---+--++--+++-++-++--++---+-++-+-+-+--+-+-','++++++++-+---+-----++-++-++----++--++-+++--++---+----++-+-+-+---+++--++---+-------++++---+++--+-+-++','++++--+-+----+-++++++++--++-++++-+-++---+-++--+----+-++---++-+++---+-+++++-+++--+------+-+--++-+--+-','++++++-+-++---++-+++++---++--++++++++-+--+---++-+--+++++------+---+-+-+-+-+--+++--+--+-++-+-+--+----','+-+-+-+-+-','---+-++-+-+---+-+---++++-++-+-+----++--+++++++++-+-+++---+++-+-+---+---+++--++-+--++-++-----+--++--+','-++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-','--','+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-','++-++-++----+++--+----+++-+++-+++-----+++---+-+---++-+-+++-+++---+++-+++-+----++-+--++++++-++---+---','+-+-+---+-+---++--+----+-+----+-++-+-+','+-++++++-+-++-+---+++-----++++++-+++++++-++-','-+-+--+--+-+-++++++-++--++---+-----+-+--+++-+----++-+----+-+-+---+-+--+--+-+--++++-++----+--+-++--+-','-+-+-++--+++-+-+--+---+----+--+-++-+++++-+-+-++---++-+---++++--+---+---------+++-++-------+++++-++-+','++--+++-++-+-+-+-++--+--+-+-++-++-+----+---+---+++++-----+-+++---+---+++++-+-+---++-+-++++-+-----+-+','+-+','++--+++--+-++----+++--+++++------+---+--+-+++++++-++++----++-+-++---+++++-----+-+---+-++++---+---+++','-++-+-+-++-++++-+-++++-+++-+++++-+-++++--+++--+-+-+++++--','--+-++-+--+++++--+--+++--+-+---+-+-++-+--+--++----+---+-+----++++------+-++++++-+++++--+--++-+--','--++--++-----+----++++-++--++++-+-+---+-+++--+--++-++++-+++--+--++-+++-+-+++++-+-+------+-++-+--+--+','+--------+','+--------------------------------------------------------------------------------------------------+','+++-+-+-++--+-++++-+----++-++++++++--++-+---++-+-++---++-++--+-++--+--','--+--+---++----+-+---+----++-+-+---++-+-+---++-++---+--+-+-+---+++--+--------++++-++++-----+---+-+++','++','-++++++++-','-+-','--+++-++++++-+--++--+-++-++--++++-+--++++++-++--++----+--+-++-','+-++------+++++--++--+-++++++----+-+--++-+++++--+++--+-++--++-+-+----+-++++---+++-+----++++-++-+','+++++','-+-++-----------+-++--+------++-+-+++++++--+---++++--+-----++-+--+--------++-+-++++++--++-+--+-+-++-','-+++++++-++-++++-+++++-+---+++----+--++++--+-+-++-+++-+-------++--++++++','+','-+--+++-+---+++-++--++-++-+-++++-++-+-++--+--+--++-+++++-+--+-++-+-+--+-+-++--++-++--++-+++++++---++','++++-+-+++--+-++--+-+-+-++-+--++--+-+-+--+-+--++----+++++--+++++++---++-++-+++---++--++-+-+-++-+++-+','+--','---+++--+-+++-++-+--+--++++---+-+-+-+--+--++++--++-++---++---+++++-+-++-------+--++----+-+--+-+++-+-','--++--++++-++++---+-----+--+++--+++-++-+++--+-+++++-++----+++--++-+-+-+','-++++---+---+--+-+--+--+++-','---','+-+-+-++-+-+-+-+-++--++-+-+--+-+---+-++-+-+-++++--+-+--++-+-+--++-+---+++-+-+-++--------++-+-+--++--','++-+-+++---+-------+-+---+++-+--++---+---++-+--++--++-++++-+---+++-+---+---+---+-+++-++++-+-+++++---','+-+-+--++-+-++++-+--+++--+++--+-++---+--++--+---++++-+-----+-+++-++++-+-+-----+--++--++-+-+++--+--++','+-++++++--+++-++----+------++--+-++-++------++--+-++-+-+-+---+++-++---+-++--++-+-+++---++++-+-++--+-','++-+-+---+-++--+++--++++---++---+--+++++-++--+++-+---++++-+-+-++--+---+-+--+++--+---+++++++-+++-+-+-','+-+-++---++--+--+-+--++--++-++-++--+-++--+---+++-++-+-+++--++-+---+-+-+-+++--+-+++-+-+-++++-+-----++','++++--+-+--------+----+-+---+--+---+---++++--+---+-+++++-++-+-+-++----+-++++-++-+-+-+++---++++----+-','++-+-+-+--+++-++--++++-++++-+-+--+++---+--+-++--+++--+++-+-+++--++-+-++---++-+--+++++---+-+++++-+-+-','--+-+-+---+---+++-----+-+-+-+-+--+-+-+-++-+-+++--+-+-+--+++-+---+++--+++----+--+-+-+-+++---+++--+++-','---+--+--+++++-+---+----+----+-+++-++++-+-------++++--++-+++-','++---+--+-+-+--++-+++-+--+++-----+-+-+-+-+++++-++-++++++-+----+---','-+--+++-+--+--+--+--+++---+-++-++','----+--++-+------++-+--++--+++----+-++++-+++-++-+++--++-+++++-+---+-++++--+---++++---+++++---++++-++','++++-+-+-++++----+--+-+-+++----+-+++-+++++-++-++++--+-+--+----+--+-+++------+--+----+-+++--+','--++-++--+-+--','+-----++----------+----+++-+-+++---++------+-+-----+++---++--+++-+-+--+--++--+++--+---++-+-++--++-++','--------+-+++--+---+--+++---++++-+-+-+-+--+++--+++-++----++----+-+--++-++++-++-+-----++-+--+++-+-+++','-+--+++++-++------+--+++-+-+-++--+---+++++-+-----+-++-++--+--+---++++--+-++++++-+---+-+--++--++++--+','-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+','-----','--+','+++-+-+++++-+-++--+---+--+-+++++--+--+------+++-+-+--++++-----+---+--+-+-+++-+-------++---+-+-+++--+','-+-+++--+-++-++--+-++-+---+-+++++++-+--++-+----+++-++-+-++------+------+++++-+++--+----+----+----+++','-++++++-+-++-++--+---------+-+++-+-+--+++-++--++++-+-+-+-----+--++----+++-+-+--+++--++--+----+-++-++']

DEBUG = False
i = 1
for each in dataset:
	print 'Case #' + str(i) + ': ' + str(run(each))
	i += 1

